{"code":"_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[15],{\"0lIN\":function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push([\"/admin/crud/blogs\",function(){return n(\"BzMX\")}])},\"69Wt\":function(e,t,n){\"use strict\";n.d(t,\"a\",(function(){return i}));var c=n(\"nKUr\"),r=n(\"q1tI\"),o=n(\"iuBY\"),s=n(\"20a2\"),a=n.n(s),i=function(e){var t=e.children;return Object(r.useEffect)((function(){Object(o.d)()?1!==Object(o.d)().role&&a.a.push(\"/\"):a.a.push(\"/signin\")}),[]),Object(c.jsx)(c.Fragment,{children:t})}},BzMX:function(e,t,n){\"use strict\";n.r(t);var c=n(\"nKUr\"),r=(n(\"q1tI\"),n(\"h7RS\")),o=n(\"69Wt\"),s=(n(\"YFqc\"),n(\"DGhE\"),n(\"nVAt\"));t.default=function(){return Object(c.jsx)(r.a,{children:Object(c.jsx)(o.a,{children:Object(c.jsx)(\"div\",{className:\"container\",children:Object(c.jsxs)(\"div\",{className:\"row\",children:[Object(c.jsx)(\"div\",{className:\"col-md-12 pt-4 pb-4\",children:Object(c.jsx)(\"h1\",{children:\"Manage Blogs\"})}),Object(c.jsx)(\"div\",{className:\"col-md-12\",children:Object(c.jsx)(\"li\",{className:\"list-group-item\",children:Object(c.jsx)(s.a,{})})})]})})})})}},DGhE:function(e,t,n){\"use strict\";var c=n(\"nKUr\"),r=n(\"cpVT\"),o=n(\"q1tI\"),s=n(\"abxw\"),a=n(\"iuBY\");n(\"20a2\");function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);t&&(c=c.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,c)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){Object(r.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}t.a=function(){var e=Object(o.useState)({name:\"\",error:!1,categories:[],success:!1,removed:!1,reload:!1}),t=e[0],n=e[1],r=t.name,i=t.success,l=t.error,d=t.removed,j=t.categories,b=t.reload,f=Object(a.b)(\"token\");Object(o.useEffect)((function(){Object(s.c)().then((function(e){e.error?n(u(u({},t),{},{error:e.error,success:!1})):n(u(u({},t),{},{categories:e}))}))}),[b]);var h=function(e){window.confirm(\"Are you sure that you want to delete this category?\")&&function(e){console.log(\"delete\",e),Object(s.b)(e,f).then((function(e){console.log(e),e.error?n(u(u({},t),{},{error:e.error})):n(u(u({},t),{},{error:!1,success:!1,reload:!b,removed:!0}))}))}(e)};var m=function(e){n(u(u({},t),{},{name:e.currentTarget.value,success:!1,removed:!1,error:!1}))},O=function(e){console.log(\"create category = \",r),e.preventDefault(),Object(s.a)({name:r},f).then((function(e){e.error?n(u(u({},t),{},{error:e.error,success:!1})):n(u(u({},t),{},{error:!1,success:!0,reload:!b,removed:!1,name:\"\"}))}))};return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsxs)(\"div\",{onMouseMove:function(){n(u(u({},t),{},{error:!1,success:!1,removed:!1}))},children:[function(){if(d)return Object(c.jsx)(\"p\",{className:\"text-danger\",children:\"Category successfully removed.\"})}(),function(){if(l)return Object(c.jsx)(\"p\",{className:\"text-danger\",children:\"Category already exist!\"})}(),function(){if(i)return Object(c.jsx)(\"p\",{className:\"text-success\",children:\"Category successfully created.\"})}()]}),Object(c.jsxs)(\"form\",{onSubmit:O,children:[Object(c.jsx)(\"label\",{className:\"text-muted\",children:\"Create Category\"}),Object(c.jsx)(\"input\",{type:\"text\",onChange:m,className:\"form-control\",value:r}),Object(c.jsx)(\"div\",{className:\"pt-2\",children:Object(c.jsx)(\"button\",{className:\"btn btn-primary\",children:\"Submit\"})})]}),j.map((function(e,t){return Object(c.jsx)(\"button\",{onDoubleClick:function(){return h(e.slug)},title:\"Double click to delete\",className:\"btn btn-outline-primary mr-1 ml-1 mt-3\",children:e.name},t)}))]})}},abxw:function(e,t,n){\"use strict\";n.d(t,\"a\",(function(){return a})),n.d(t,\"c\",(function(){return i})),n.d(t,\"d\",(function(){return u})),n.d(t,\"b\",(function(){return l}));var c=n(\"obyI\"),r=n(\"LpSC\"),o=n.n(r),s=(n(\"p46w\"),n(\"iuBY\")),a=function(e,t){return o()(\"\".concat(c.a,\"/category\"),{method:\"POST\",headers:{Accept:\"application/json\",\"Content-Type\":\"application/json\",Authorization:\"Bearer \".concat(t)},body:JSON.stringify(e)}).then((function(e){return Object(s.c)(e),e.json()})).catch((function(e){return console.log(e)}))},i=function(){return o()(\"\".concat(c.a,\"/categories\"),{method:\"GET\"}).then((function(e){return e.json()})).catch((function(e){return console.log(e)}))},u=function(e){return o()(\"\".concat(c.a,\"/category/\").concat(e),{method:\"GET\"}).then((function(e){return console.log(e),e.json()})).catch((function(e){return console.log(e)}))},l=function(e,t){return o()(\"\".concat(c.a,\"/category/\").concat(e),{method:\"DELETE\",headers:{Accept:\"application/json\",\"Content-Type\":\"application/json\",Authorization:\"Bearer \".concat(t)}}).then((function(e){return Object(s.c)(e),e.json()})).catch((function(e){return console.log(e)}))}},nVAt:function(e,t,n){\"use strict\";var c=n(\"nKUr\"),r=n(\"q1tI\"),o=n(\"YFqc\"),s=n.n(o),a=(n(\"20a2\"),n(\"iuBY\")),i=n(\"zycw\"),u=n(\"wd/R\"),l=n.n(u);t.a=function(e){var t=e.username,n=Object(r.useState)([]),o=n[0],u=n[1],d=Object(r.useState)(\"\"),j=d[0],b=d[1],f=Object(a.b)(\"token\"),h=function(){Object(i.b)(t).then((function(e){e.error?console.log(e.error):u(e)}))};Object(r.useEffect)((function(){h()}),[]);var m=function(e){window.confirm(\"Are you sure you want to delete blog?\")&&function(e){Object(i.f)(e,f).then((function(e){e.error?console.log(e.error):(b(e.message),h())}))}(e)},O=function(e){return Object(a.d)()&&0===a.d.role?Object(c.jsx)(s.a,{href:\"/admin/crud/\".concat(e.slug),children:Object(c.jsx)(\"a\",{className:\"ml-2 btn btn-sm btn-warning\",children:\"Update\"})}):Object(c.jsx)(s.a,{href:\"/user/crud/\".concat(e.slug),children:Object(c.jsx)(\"a\",{className:\"btn btn-sm btn-warning\",children:\"Update\"})})};return Object(c.jsx)(c.Fragment,{children:Object(c.jsx)(\"div\",{className:\"container\",children:Object(c.jsxs)(\"div\",{className:\"row\",children:[Object(c.jsx)(\"p\",{children:\"Update/Delete Blogs\"}),Object(c.jsxs)(\"div\",{className:\"col-md-12\",children:[j&&Object(c.jsx)(\"div\",{className:\"alert alert-warning\",children:j}),o.map((function(e,t){return Object(c.jsxs)(\"div\",{className:\"pb-5\",children:[Object(c.jsx)(\"h3\",{children:e.title}),Object(c.jsxs)(\"p\",{className:\"mark\",children:[\"Written by \",e.postedBy.name,\" | Published on \",l()(e.updatedAt).fromNow()]}),Object(c.jsx)(\"button\",{className:\"btn btn-sm btn-danger\",onClick:function(){return m(e.slug)},children:\"Delete\"}),O(e)]},t)}))]})]})})})}}},[[\"0lIN\",1,0,4,2,3,5]]]);","map":{"version":3,"sources":["static/chunks/pages/admin/crud/blogs-8e5d9c21e5dd5b5ae06f.js"],"names":["_N_E","window","push","0lIN","module","exports","__webpack_require__","__NEXT_P","69Wt","__webpack_exports__","d","Admin","react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__","react__WEBPACK_IMPORTED_MODULE_1__","_auth__WEBPACK_IMPORTED_MODULE_2__","next_router__WEBPACK_IMPORTED_MODULE_3__","next_router__WEBPACK_IMPORTED_MODULE_3___default","n","_ref","children","Object","role","a","BzMX","r","_components_Layout__WEBPACK_IMPORTED_MODULE_2__","_actions_Admin__WEBPACK_IMPORTED_MODULE_3__","_components_crud_BlogRead__WEBPACK_IMPORTED_MODULE_6__","className","DGhE","E_seoblog_frontend_node_modules_next_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_1__","react__WEBPACK_IMPORTED_MODULE_2__","_actions_category__WEBPACK_IMPORTED_MODULE_3__","_actions_auth__WEBPACK_IMPORTED_MODULE_4__","ownKeys","object","enumerableOnly","keys","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","enumerable","apply","_objectSpread","target","i","arguments","length","source","forEach","key","getOwnPropertyDescriptors","defineProperties","defineProperty","_useState","name","error","categories","success","removed","reload","value","setValue","token","then","data","DeleteConfirm","slug","confirm","console","log","DeleteCategory","handleChange","e","currentTarget","onSubmit","preventDefault","res","onMouseMove","showRemoved","showError","showSuccess","type","onChange","map","c","onDoubleClick","title","abxw","create","getAllCategories","getOneCategory","deleteCategory","_config__WEBPACK_IMPORTED_MODULE_0__","isomorphic_fetch__WEBPACK_IMPORTED_MODULE_1__","isomorphic_fetch__WEBPACK_IMPORTED_MODULE_1___default","_auth__WEBPACK_IMPORTED_MODULE_3__","category","concat","method","headers","Accept","Content-Type","Authorization","body","JSON","stringify","response","json","err","nVAt","next_link__WEBPACK_IMPORTED_MODULE_2__","next_link__WEBPACK_IMPORTED_MODULE_2___default","_actions_blog__WEBPACK_IMPORTED_MODULE_5__","moment__WEBPACK_IMPORTED_MODULE_6__","moment__WEBPACK_IMPORTED_MODULE_6___default","username","blogs","setBlogs","_useState2","message","setMessage","loadBlogs","deleteConfirm","deleteBlog","showUpdateButton","blog","href","postedBy","updatedAt","fromNow","onClick"],"mappings":"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"},"name":"static/chunks/pages/admin/crud/blogs-8e5d9c21e5dd5b5ae06f.js","input":"_N_E =\n(window[\"webpackJsonp_N_E\"] = window[\"webpackJsonp_N_E\"] || []).push([[15],{\n\n/***/ \"0lIN\":\n/***/ (function(module, exports, __webpack_require__) {\n\n\n    (window.__NEXT_P = window.__NEXT_P || []).push([\n      \"/admin/crud/blogs\",\n      function () {\n        return __webpack_require__(\"BzMX\");\n      }\n    ]);\n  \n\n/***/ }),\n\n/***/ \"69Wt\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return Admin; });\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(\"nKUr\");\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(\"q1tI\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _auth__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(\"iuBY\");\n/* harmony import */ var next_router__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(\"20a2\");\n/* harmony import */ var next_router__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(next_router__WEBPACK_IMPORTED_MODULE_3__);\n\n\n\n\n\nvar Admin = function Admin(_ref) {\n  var children = _ref.children;\n  Object(react__WEBPACK_IMPORTED_MODULE_1__[\"useEffect\"])(function () {\n    if (!Object(_auth__WEBPACK_IMPORTED_MODULE_2__[/* isAuth */ \"d\"])()) {\n      next_router__WEBPACK_IMPORTED_MODULE_3___default.a.push(\"/signin\");\n    } else if (Object(_auth__WEBPACK_IMPORTED_MODULE_2__[/* isAuth */ \"d\"])().role !== 1) {\n      next_router__WEBPACK_IMPORTED_MODULE_3___default.a.push(\"/\");\n    }\n  }, []);\n  return /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__[\"Fragment\"], {\n    children: children\n  });\n};\n\n/***/ }),\n\n/***/ \"BzMX\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(\"nKUr\");\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(\"q1tI\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _components_Layout__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(\"h7RS\");\n/* harmony import */ var _actions_Admin__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(\"69Wt\");\n/* harmony import */ var next_link__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(\"YFqc\");\n/* harmony import */ var next_link__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(next_link__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var _components_crud_Category__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(\"DGhE\");\n/* harmony import */ var _components_crud_BlogRead__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(\"nVAt\");\n\n\n\n\n\n\n\n\n\nfunction Category1() {\n  return /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(_components_Layout__WEBPACK_IMPORTED_MODULE_2__[/* Layout */ \"a\"], {\n    children: /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(_actions_Admin__WEBPACK_IMPORTED_MODULE_3__[/* Admin */ \"a\"], {\n      children: /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"div\", {\n        className: \"container\",\n        children: /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__[\"jsxs\"])(\"div\", {\n          className: \"row\",\n          children: [/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"div\", {\n            className: \"col-md-12 pt-4 pb-4\",\n            children: /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"h1\", {\n              children: \"Manage Blogs\"\n            })\n          }), /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"div\", {\n            className: \"col-md-12\",\n            children: /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"li\", {\n              className: \"list-group-item\",\n              children: /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(_components_crud_BlogRead__WEBPACK_IMPORTED_MODULE_6__[/* default */ \"a\"], {})\n            })\n          })]\n        })\n      })\n    })\n  });\n}\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (Category1);\n\n/***/ }),\n\n/***/ \"DGhE\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(\"nKUr\");\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var E_seoblog_frontend_node_modules_next_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(\"cpVT\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(\"q1tI\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _actions_category__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(\"abxw\");\n/* harmony import */ var _actions_auth__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(\"iuBY\");\n/* harmony import */ var next_router__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(\"20a2\");\n/* harmony import */ var next_router__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(next_router__WEBPACK_IMPORTED_MODULE_5__);\n\n\n\n\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { Object(E_seoblog_frontend_node_modules_next_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_1__[/* default */ \"a\"])(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\n\n\n\n\n\nvar Category = function Category() {\n  var _useState = Object(react__WEBPACK_IMPORTED_MODULE_2__[\"useState\"])({\n    \"name\": \"\",\n    \"error\": false,\n    \"categories\": [],\n    \"success\": false,\n    \"removed\": false,\n    \"reload\": false\n  }),\n      value = _useState[0],\n      setValue = _useState[1];\n\n  var name = value.name,\n      success = value.success,\n      error = value.error,\n      removed = value.removed,\n      categories = value.categories,\n      reload = value.reload;\n  var token = Object(_actions_auth__WEBPACK_IMPORTED_MODULE_4__[/* getCookie */ \"b\"])(\"token\");\n\n  var AllCategories = function AllCategories() {\n    Object(_actions_category__WEBPACK_IMPORTED_MODULE_3__[/* getAllCategories */ \"c\"])().then(function (data) {\n      if (data.error) {\n        setValue(_objectSpread(_objectSpread({}, value), {}, {\n          error: data.error,\n          success: false\n        }));\n      } else {\n        setValue(_objectSpread(_objectSpread({}, value), {}, {\n          categories: data\n        }));\n      }\n    });\n  };\n\n  Object(react__WEBPACK_IMPORTED_MODULE_2__[\"useEffect\"])(function () {\n    AllCategories();\n  }, [reload]);\n\n  var DeleteCategory = function DeleteCategory(slug) {\n    console.log(\"delete\", slug);\n    Object(_actions_category__WEBPACK_IMPORTED_MODULE_3__[/* deleteCategory */ \"b\"])(slug, token).then(function (data) {\n      console.log(data);\n\n      if (data.error) {\n        setValue(_objectSpread(_objectSpread({}, value), {}, {\n          error: data.error\n        }));\n      } else {\n        setValue(_objectSpread(_objectSpread({}, value), {}, {\n          error: false,\n          success: false,\n          reload: !reload,\n          removed: true\n        }));\n      }\n    });\n  };\n\n  var DeleteConfirm = function DeleteConfirm(slug) {\n    var answer = window.confirm(\"Are you sure that you want to delete this category?\");\n\n    if (answer) {\n      DeleteCategory(slug);\n    }\n  };\n\n  function CategoryBlock() {\n    return categories.map(function (c, i) {\n      return /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"button\", {\n        onDoubleClick: function onDoubleClick() {\n          return DeleteConfirm(c.slug);\n        },\n        title: \"Double click to delete\",\n        className: \"btn btn-outline-primary mr-1 ml-1 mt-3\",\n        children: c.name\n      }, i);\n    });\n  }\n\n  var handleChange = function handleChange(e) {\n    setValue(_objectSpread(_objectSpread({}, value), {}, {\n      name: e.currentTarget.value,\n      success: false,\n      removed: false,\n      error: false\n    }));\n  };\n\n  var onSubmit = function onSubmit(e) {\n    console.log(\"create category = \", name);\n    e.preventDefault();\n    Object(_actions_category__WEBPACK_IMPORTED_MODULE_3__[/* create */ \"a\"])({\n      name: name\n    }, token).then(function (res) {\n      if (res.error) {\n        setValue(_objectSpread(_objectSpread({}, value), {}, {\n          error: res.error,\n          success: false\n        }));\n      } else {\n        setValue(_objectSpread(_objectSpread({}, value), {}, {\n          error: false,\n          success: true,\n          reload: !reload,\n          removed: false,\n          name: \"\"\n        }));\n      }\n    });\n  };\n\n  var showSuccess = function showSuccess() {\n    if (success) {\n      return /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"p\", {\n        className: \"text-success\",\n        children: \"Category successfully created.\"\n      });\n    }\n  };\n\n  var showError = function showError() {\n    if (error) {\n      return /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"p\", {\n        className: \"text-danger\",\n        children: \"Category already exist!\"\n      });\n    }\n  };\n\n  var showRemoved = function showRemoved() {\n    if (removed) {\n      return /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"p\", {\n        className: \"text-danger\",\n        children: \"Category successfully removed.\"\n      });\n    }\n  };\n\n  var CategoryForm = function CategoryForm() {\n    return /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__[\"jsxs\"])(\"form\", {\n      onSubmit: onSubmit,\n      children: [/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"label\", {\n        className: \"text-muted\",\n        children: \"Create Category\"\n      }), /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"input\", {\n        type: \"text\",\n        onChange: handleChange,\n        className: \"form-control\",\n        value: name\n      }), /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"div\", {\n        className: \"pt-2\",\n        children: /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"button\", {\n          className: \"btn btn-primary\",\n          children: \"Submit\"\n        })\n      })]\n    });\n  };\n\n  var mouseHandler = function mouseHandler() {\n    setValue(_objectSpread(_objectSpread({}, value), {}, {\n      error: false,\n      success: false,\n      removed: false\n    }));\n  };\n\n  return /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__[\"jsxs\"])(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__[\"Fragment\"], {\n    children: [/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__[\"jsxs\"])(\"div\", {\n      onMouseMove: mouseHandler,\n      children: [showRemoved(), showError(), showSuccess()]\n    }), CategoryForm(), CategoryBlock()]\n  });\n};\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (Category);\n\n/***/ }),\n\n/***/ \"abxw\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return create; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"c\", function() { return getAllCategories; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"d\", function() { return getOneCategory; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"b\", function() { return deleteCategory; });\n/* harmony import */ var _config__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(\"obyI\");\n/* harmony import */ var isomorphic_fetch__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(\"LpSC\");\n/* harmony import */ var isomorphic_fetch__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(isomorphic_fetch__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var js_cookie__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(\"p46w\");\n/* harmony import */ var js_cookie__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(js_cookie__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _auth__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(\"iuBY\");\n\n\n\n\nvar create = function create(category, token) {\n  return isomorphic_fetch__WEBPACK_IMPORTED_MODULE_1___default()(\"\".concat(_config__WEBPACK_IMPORTED_MODULE_0__[/* API */ \"a\"], \"/category\"), {\n    \"method\": \"POST\",\n    headers: {\n      \"Accept\": \"application/json\",\n      \"Content-Type\": \"application/json\",\n      \"Authorization\": \"Bearer \".concat(token)\n    },\n    body: JSON.stringify(category)\n  }).then(function (response) {\n    Object(_auth__WEBPACK_IMPORTED_MODULE_3__[/* handleResponse */ \"c\"])(response);\n    return response.json();\n  })[\"catch\"](function (err) {\n    return console.log(err);\n  });\n};\nvar getAllCategories = function getAllCategories() {\n  return isomorphic_fetch__WEBPACK_IMPORTED_MODULE_1___default()(\"\".concat(_config__WEBPACK_IMPORTED_MODULE_0__[/* API */ \"a\"], \"/categories\"), {\n    \"method\": \"GET\"\n  }).then(function (res) {\n    return res.json();\n  })[\"catch\"](function (error) {\n    return console.log(error);\n  });\n};\nvar getOneCategory = function getOneCategory(slug) {\n  return isomorphic_fetch__WEBPACK_IMPORTED_MODULE_1___default()(\"\".concat(_config__WEBPACK_IMPORTED_MODULE_0__[/* API */ \"a\"], \"/category/\").concat(slug), {\n    \"method\": \"GET\"\n  }).then(function (res) {\n    console.log(res);\n    return res.json();\n  })[\"catch\"](function (error) {\n    return console.log(error);\n  });\n};\nvar deleteCategory = function deleteCategory(slug, token) {\n  return isomorphic_fetch__WEBPACK_IMPORTED_MODULE_1___default()(\"\".concat(_config__WEBPACK_IMPORTED_MODULE_0__[/* API */ \"a\"], \"/category/\").concat(slug), {\n    \"method\": \"DELETE\",\n    headers: {\n      \"Accept\": \"application/json\",\n      \"Content-Type\": \"application/json\",\n      \"Authorization\": \"Bearer \".concat(token)\n    }\n  }).then(function (response) {\n    Object(_auth__WEBPACK_IMPORTED_MODULE_3__[/* handleResponse */ \"c\"])(response);\n    return response.json();\n  })[\"catch\"](function (error) {\n    return console.log(error);\n  });\n};\n\n/***/ }),\n\n/***/ \"nVAt\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(\"nKUr\");\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(\"q1tI\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var next_link__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(\"YFqc\");\n/* harmony import */ var next_link__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_link__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var next_router__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(\"20a2\");\n/* harmony import */ var next_router__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(next_router__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _actions_auth__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(\"iuBY\");\n/* harmony import */ var _actions_blog__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(\"zycw\");\n/* harmony import */ var moment__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(\"wd/R\");\n/* harmony import */ var moment__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(moment__WEBPACK_IMPORTED_MODULE_6__);\n\n\n\n\n\n\n\n\n\n\nvar BlogRead = function BlogRead(_ref) {\n  var username = _ref.username;\n\n  var _useState = Object(react__WEBPACK_IMPORTED_MODULE_1__[\"useState\"])([]),\n      blogs = _useState[0],\n      setBlogs = _useState[1];\n\n  var _useState2 = Object(react__WEBPACK_IMPORTED_MODULE_1__[\"useState\"])(''),\n      message = _useState2[0],\n      setMessage = _useState2[1];\n\n  var token = Object(_actions_auth__WEBPACK_IMPORTED_MODULE_4__[/* getCookie */ \"b\"])(\"token\");\n\n  var loadBlogs = function loadBlogs() {\n    Object(_actions_blog__WEBPACK_IMPORTED_MODULE_5__[/* list */ \"b\"])(username).then(function (data) {\n      if (data.error || undefined) {\n        console.log(data.error);\n      } else {\n        setBlogs(data);\n      }\n    });\n  };\n\n  Object(react__WEBPACK_IMPORTED_MODULE_1__[\"useEffect\"])(function () {\n    loadBlogs();\n  }, []);\n\n  var deleteBlog = function deleteBlog(slug) {\n    Object(_actions_blog__WEBPACK_IMPORTED_MODULE_5__[/* removeBlog */ \"f\"])(slug, token).then(function (data) {\n      if (data.error) {\n        console.log(data.error);\n      } else {\n        setMessage(data.message);\n        loadBlogs();\n      }\n    });\n  };\n\n  var deleteConfirm = function deleteConfirm(slug) {\n    var answer = window.confirm(\"Are you sure you want to delete blog?\");\n\n    if (answer) {\n      deleteBlog(slug);\n    }\n  };\n\n  var showUpdateButton = function showUpdateButton(blog) {\n    if (Object(_actions_auth__WEBPACK_IMPORTED_MODULE_4__[/* isAuth */ \"d\"])() && _actions_auth__WEBPACK_IMPORTED_MODULE_4__[/* isAuth */ \"d\"].role === 0) {\n      return /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(next_link__WEBPACK_IMPORTED_MODULE_2___default.a, {\n        href: \"/admin/crud/\".concat(blog.slug),\n        children: /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"a\", {\n          className: \"ml-2 btn btn-sm btn-warning\",\n          children: \"Update\"\n        })\n      });\n    } else {\n      return /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(next_link__WEBPACK_IMPORTED_MODULE_2___default.a, {\n        href: \"/user/crud/\".concat(blog.slug),\n        children: /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"a\", {\n          className: \"btn btn-sm btn-warning\",\n          children: \"Update\"\n        })\n      });\n    }\n  };\n\n  var showAllBlogs = function showAllBlogs() {\n    return blogs.map(function (blog, i) {\n      return /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__[\"jsxs\"])(\"div\", {\n        className: \"pb-5\",\n        children: [/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"h3\", {\n          children: blog.title\n        }), /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__[\"jsxs\"])(\"p\", {\n          className: \"mark\",\n          children: [\"Written by \", blog.postedBy.name, \" | Published on \", moment__WEBPACK_IMPORTED_MODULE_6___default()(blog.updatedAt).fromNow()]\n        }), /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"button\", {\n          className: \"btn btn-sm btn-danger\",\n          onClick: function onClick() {\n            return deleteConfirm(blog.slug);\n          },\n          children: \"Delete\"\n        }), showUpdateButton(blog)]\n      }, i);\n    });\n  };\n\n  return /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__[\"Fragment\"], {\n    children: /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"div\", {\n      className: \"container\",\n      children: /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__[\"jsxs\"])(\"div\", {\n        className: \"row\",\n        children: [/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"p\", {\n          children: \"Update/Delete Blogs\"\n        }), /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__[\"jsxs\"])(\"div\", {\n          className: \"col-md-12\",\n          children: [message && /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"div\", {\n            className: \"alert alert-warning\",\n            children: message\n          }), showAllBlogs()]\n        })]\n      })\n    })\n  });\n};\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (BlogRead);\n\n/***/ })\n\n},[[\"0lIN\",1,0,4,2,3,5]]]);","inputSourceMap":{"version":3,"sources":["E:\\seoblog\\frontend\\node_modules\\next\\dist\\build\\webpack\\loaders\\next-client-pages-loader.js?page=%2Fadmin%2Fcrud%2Fblogs&absolutePagePath=private-next-pages%2Fadmin%2Fcrud%2Fblogs.js!","E:\\seoblog\\frontend\\node_modules\\next\\dist\\build\\webpack\\loaders\\next-babel-loader.js??ref--4!E:\\seoblog\\frontend\\actions\\Admin.js","E:\\seoblog\\frontend\\node_modules\\next\\dist\\build\\webpack\\loaders\\next-babel-loader.js??ref--4!E:\\seoblog\\frontend\\pages\\admin\\crud\\blogs.js","E:\\seoblog\\frontend\\node_modules\\next\\dist\\build\\webpack\\loaders\\next-babel-loader.js??ref--4!E:\\seoblog\\frontend\\components\\crud\\Category.js","E:\\seoblog\\frontend\\node_modules\\next\\dist\\build\\webpack\\loaders\\next-babel-loader.js??ref--4!E:\\seoblog\\frontend\\actions\\category.js","E:\\seoblog\\frontend\\node_modules\\next\\dist\\build\\webpack\\loaders\\next-babel-loader.js??ref--4!E:\\seoblog\\frontend\\components\\crud\\BlogRead.js"],"names":[],"mappings":";;;;;;;AACA;AACA;AACA;AACA,eAAe,mBAAO,CAAC,MAAwC;AAC/D;AACA;;;;;;;;;ACNA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAgD;AACU;AACxB;AACF;AACC;AAC1B;AACP;AACA,EAAE,uDAAS;AACX,SAAS,4DAAM;AACf,MAAM,kDAAM;AACZ,KAAK,UAAU,4DAAM;AACrB,MAAM,kDAAM;AACZ;AACA,GAAG;AACH,sBAAsB,6DAAI,CAAC,0DAAS;AACpC;AACA,GAAG;AACH,E;;;;;;;;ACjBA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAkD;AACF;AACtB;AAC0B;AACL;AAClB;AAC4B;AACA;;AAEzD;AACA,sBAAsB,6DAAI,CAAC,iEAAM;AACjC,2BAA2B,6DAAI,CAAC,4DAAK;AACrC,6BAA6B,6DAAI;AACjC;AACA,+BAA+B,8DAAK;AACpC;AACA,kCAAkC,6DAAI;AACtC;AACA,mCAAmC,6DAAI;AACvC;AACA,aAAa;AACb,WAAW,gBAAgB,6DAAI;AAC/B;AACA,mCAAmC,6DAAI;AACvC;AACA,qCAAqC,6DAAI,CAAC,yEAAQ,IAAI;AACtD,aAAa;AACb,WAAW;AACX,SAAS;AACT,OAAO;AACP,KAAK;AACL,GAAG;AACH;;AAEe,wEAAS,E;;;;;;;;AClCxB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAA0D;AACR;AACF;AAC2E;;AAE3H,0CAA0C,gCAAgC,oCAAoC,oDAAoD,8DAA8D,gEAAgE,EAAE,EAAE,gCAAgC,EAAE,aAAa;;AAEnV,gCAAgC,gBAAgB,sBAAsB,OAAO,uDAAuD,aAAa,uDAAuD,CAAC,kJAAe,2BAA2B,EAAE,EAAE,EAAE,6CAA6C,2EAA2E,EAAE,OAAO,iDAAiD,kFAAkF,EAAE,EAAE,EAAE,EAAE,eAAe;;AAEje;AAC+B;AACnB;AAC9B;;AAEjC;AACA,kBAAkB,sDAAQ;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,cAAc,uEAAS;;AAEvB;AACA,IAAI,kFAAgB;AACpB;AACA,+CAA+C,YAAY;AAC3D;AACA;AACA,SAAS;AACT,OAAO;AACP,+CAA+C,YAAY;AAC3D;AACA,SAAS;AACT;AACA,KAAK;AACL;;AAEA,EAAE,uDAAS;AACX;AACA,GAAG;;AAEH;AACA;AACA,IAAI,gFAAc;AAClB;;AAEA;AACA,+CAA+C,YAAY;AAC3D;AACA,SAAS;AACT,OAAO;AACP,+CAA+C,YAAY;AAC3D;AACA;AACA;AACA;AACA,SAAS;AACT;AACA,KAAK;AACL;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,0BAA0B,6DAAI;AAC9B;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,OAAO;AACP,KAAK;AACL;;AAEA;AACA,2CAA2C,YAAY;AACvD;AACA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;AACA,IAAI,wEAAM;AACV;AACA,KAAK;AACL;AACA,+CAA+C,YAAY;AAC3D;AACA;AACA,SAAS;AACT,OAAO;AACP,+CAA+C,YAAY;AAC3D;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA,KAAK;AACL;;AAEA;AACA;AACA,0BAA0B,6DAAI;AAC9B;AACA;AACA,OAAO;AACP;AACA;;AAEA;AACA;AACA,0BAA0B,6DAAI;AAC9B;AACA;AACA,OAAO;AACP;AACA;;AAEA;AACA;AACA,0BAA0B,6DAAI;AAC9B;AACA;AACA,OAAO;AACP;AACA;;AAEA;AACA,wBAAwB,8DAAK;AAC7B;AACA,8BAA8B,6DAAI;AAClC;AACA;AACA,OAAO,gBAAgB,6DAAI;AAC3B;AACA;AACA;AACA;AACA,OAAO,gBAAgB,6DAAI;AAC3B;AACA,+BAA+B,6DAAI;AACnC;AACA;AACA,SAAS;AACT,OAAO;AACP,KAAK;AACL;;AAEA;AACA,2CAA2C,YAAY;AACvD;AACA;AACA;AACA,KAAK;AACL;;AAEA,sBAAsB,8DAAK,CAAC,0DAAS;AACrC,4BAA4B,8DAAK;AACjC;AACA;AACA,KAAK;AACL,GAAG;AACH;;AAEe,iEAAQ,E;;;;;;;;AC9LvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAgC;AACK;AACN;AACS;AACjC;AACP,SAAS,uDAAK,WAAW,mDAAG;AAC5B;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA,GAAG;AACH,IAAI,oEAAc;AAClB;AACA,GAAG;AACH;AACA,GAAG;AACH;AACO;AACP,SAAS,uDAAK,WAAW,mDAAG;AAC5B;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA,GAAG;AACH;AACO;AACP,SAAS,uDAAK,WAAW,mDAAG;AAC5B;AACA,GAAG;AACH;AACA;AACA,GAAG;AACH;AACA,GAAG;AACH;AACO;AACP,SAAS,uDAAK,WAAW,mDAAG;AAC5B;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH,IAAI,oEAAc;AAClB;AACA,GAAG;AACH;AACA,GAAG;AACH,E;;;;;;;;ACrDA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAA0D;AACR;AACF;AACG;AACtB;AACI;AACsB;AACD;AAC1B;;AAE5B;AACA;;AAEA,kBAAkB,sDAAQ;AAC1B;AACA;;AAEA,mBAAmB,sDAAQ;AAC3B;AACA;;AAEA,cAAc,uEAAS;;AAEvB;AACA,IAAI,kEAAI;AACR;AACA;AACA,OAAO;AACP;AACA;AACA,KAAK;AACL;;AAEA,EAAE,uDAAS;AACX;AACA,GAAG;;AAEH;AACA,IAAI,wEAAU;AACd;AACA;AACA,OAAO;AACP;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,QAAQ,oEAAM,MAAM,4DAAM;AAC1B,0BAA0B,6DAAI,CAAC,gDAAI;AACnC;AACA,+BAA+B,6DAAI;AACnC;AACA;AACA,SAAS;AACT,OAAO;AACP,KAAK;AACL,0BAA0B,6DAAI,CAAC,gDAAI;AACnC;AACA,+BAA+B,6DAAI;AACnC;AACA;AACA,SAAS;AACT,OAAO;AACP;AACA;;AAEA;AACA;AACA,0BAA0B,8DAAK;AAC/B;AACA,gCAAgC,6DAAI;AACpC;AACA,SAAS,gBAAgB,8DAAK;AAC9B;AACA,4EAA4E,6CAAM;AAClF,SAAS,gBAAgB,6DAAI;AAC7B;AACA;AACA;AACA,WAAW;AACX;AACA,SAAS;AACT,OAAO;AACP,KAAK;AACL;;AAEA,sBAAsB,6DAAI,CAAC,0DAAS;AACpC,2BAA2B,6DAAI;AAC/B;AACA,6BAA6B,8DAAK;AAClC;AACA,gCAAgC,6DAAI;AACpC;AACA,SAAS,gBAAgB,8DAAK;AAC9B;AACA,6CAA6C,6DAAI;AACjD;AACA;AACA,WAAW;AACX,SAAS;AACT,OAAO;AACP,KAAK;AACL,GAAG;AACH;;AAEe,iEAAQ,E","file":"x","sourcesContent":["\n    (window.__NEXT_P = window.__NEXT_P || []).push([\n      \"/admin/crud/blogs\",\n      function () {\n        return require(\"private-next-pages/admin/crud/blogs.js\");\n      }\n    ]);\n  ","import { jsx as _jsx } from \"react/jsx-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-runtime\";\nimport { useEffect } from \"react\";\nimport { isAuth } from \"./auth\";\nimport Router from \"next/router\";\nexport var Admin = function Admin(_ref) {\n  var children = _ref.children;\n  useEffect(function () {\n    if (!isAuth()) {\n      Router.push(\"/signin\");\n    } else if (isAuth().role !== 1) {\n      Router.push(\"/\");\n    }\n  }, []);\n  return /*#__PURE__*/_jsx(_Fragment, {\n    children: children\n  });\n};","import { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport React from \"react\";\nimport { Layout } from \"../../../components/Layout\";\nimport { Admin } from \"../../../actions/Admin\";\nimport Link from \"next/link\";\nimport Category from \"../../../components/crud/Category\";\nimport BlogRead from \"../../../components/crud/BlogRead\";\n\nfunction Category1() {\n  return /*#__PURE__*/_jsx(Layout, {\n    children: /*#__PURE__*/_jsx(Admin, {\n      children: /*#__PURE__*/_jsx(\"div\", {\n        className: \"container\",\n        children: /*#__PURE__*/_jsxs(\"div\", {\n          className: \"row\",\n          children: [/*#__PURE__*/_jsx(\"div\", {\n            className: \"col-md-12 pt-4 pb-4\",\n            children: /*#__PURE__*/_jsx(\"h1\", {\n              children: \"Manage Blogs\"\n            })\n          }), /*#__PURE__*/_jsx(\"div\", {\n            className: \"col-md-12\",\n            children: /*#__PURE__*/_jsx(\"li\", {\n              className: \"list-group-item\",\n              children: /*#__PURE__*/_jsx(BlogRead, {})\n            })\n          })]\n        })\n      })\n    })\n  });\n}\n\nexport default Category1;","import { Fragment as _Fragment } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport _defineProperty from \"E:/seoblog/frontend/node_modules/next/node_modules/@babel/runtime/helpers/esm/defineProperty\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport React, { useState, useEffect } from \"react\";\nimport { create, deleteCategory, getAllCategories } from \"../../actions/category\";\nimport { isAuth, getCookie, signup } from \"../../actions/auth\";\nimport Router from \"next/router\";\n\nvar Category = function Category() {\n  var _useState = useState({\n    \"name\": \"\",\n    \"error\": false,\n    \"categories\": [],\n    \"success\": false,\n    \"removed\": false,\n    \"reload\": false\n  }),\n      value = _useState[0],\n      setValue = _useState[1];\n\n  var name = value.name,\n      success = value.success,\n      error = value.error,\n      removed = value.removed,\n      categories = value.categories,\n      reload = value.reload;\n  var token = getCookie(\"token\");\n\n  var AllCategories = function AllCategories() {\n    getAllCategories().then(function (data) {\n      if (data.error) {\n        setValue(_objectSpread(_objectSpread({}, value), {}, {\n          error: data.error,\n          success: false\n        }));\n      } else {\n        setValue(_objectSpread(_objectSpread({}, value), {}, {\n          categories: data\n        }));\n      }\n    });\n  };\n\n  useEffect(function () {\n    AllCategories();\n  }, [reload]);\n\n  var DeleteCategory = function DeleteCategory(slug) {\n    console.log(\"delete\", slug);\n    deleteCategory(slug, token).then(function (data) {\n      console.log(data);\n\n      if (data.error) {\n        setValue(_objectSpread(_objectSpread({}, value), {}, {\n          error: data.error\n        }));\n      } else {\n        setValue(_objectSpread(_objectSpread({}, value), {}, {\n          error: false,\n          success: false,\n          reload: !reload,\n          removed: true\n        }));\n      }\n    });\n  };\n\n  var DeleteConfirm = function DeleteConfirm(slug) {\n    var answer = window.confirm(\"Are you sure that you want to delete this category?\");\n\n    if (answer) {\n      DeleteCategory(slug);\n    }\n  };\n\n  function CategoryBlock() {\n    return categories.map(function (c, i) {\n      return /*#__PURE__*/_jsx(\"button\", {\n        onDoubleClick: function onDoubleClick() {\n          return DeleteConfirm(c.slug);\n        },\n        title: \"Double click to delete\",\n        className: \"btn btn-outline-primary mr-1 ml-1 mt-3\",\n        children: c.name\n      }, i);\n    });\n  }\n\n  var handleChange = function handleChange(e) {\n    setValue(_objectSpread(_objectSpread({}, value), {}, {\n      name: e.currentTarget.value,\n      success: false,\n      removed: false,\n      error: false\n    }));\n  };\n\n  var onSubmit = function onSubmit(e) {\n    console.log(\"create category = \", name);\n    e.preventDefault();\n    create({\n      name: name\n    }, token).then(function (res) {\n      if (res.error) {\n        setValue(_objectSpread(_objectSpread({}, value), {}, {\n          error: res.error,\n          success: false\n        }));\n      } else {\n        setValue(_objectSpread(_objectSpread({}, value), {}, {\n          error: false,\n          success: true,\n          reload: !reload,\n          removed: false,\n          name: \"\"\n        }));\n      }\n    });\n  };\n\n  var showSuccess = function showSuccess() {\n    if (success) {\n      return /*#__PURE__*/_jsx(\"p\", {\n        className: \"text-success\",\n        children: \"Category successfully created.\"\n      });\n    }\n  };\n\n  var showError = function showError() {\n    if (error) {\n      return /*#__PURE__*/_jsx(\"p\", {\n        className: \"text-danger\",\n        children: \"Category already exist!\"\n      });\n    }\n  };\n\n  var showRemoved = function showRemoved() {\n    if (removed) {\n      return /*#__PURE__*/_jsx(\"p\", {\n        className: \"text-danger\",\n        children: \"Category successfully removed.\"\n      });\n    }\n  };\n\n  var CategoryForm = function CategoryForm() {\n    return /*#__PURE__*/_jsxs(\"form\", {\n      onSubmit: onSubmit,\n      children: [/*#__PURE__*/_jsx(\"label\", {\n        className: \"text-muted\",\n        children: \"Create Category\"\n      }), /*#__PURE__*/_jsx(\"input\", {\n        type: \"text\",\n        onChange: handleChange,\n        className: \"form-control\",\n        value: name\n      }), /*#__PURE__*/_jsx(\"div\", {\n        className: \"pt-2\",\n        children: /*#__PURE__*/_jsx(\"button\", {\n          className: \"btn btn-primary\",\n          children: \"Submit\"\n        })\n      })]\n    });\n  };\n\n  var mouseHandler = function mouseHandler() {\n    setValue(_objectSpread(_objectSpread({}, value), {}, {\n      error: false,\n      success: false,\n      removed: false\n    }));\n  };\n\n  return /*#__PURE__*/_jsxs(_Fragment, {\n    children: [/*#__PURE__*/_jsxs(\"div\", {\n      onMouseMove: mouseHandler,\n      children: [showRemoved(), showError(), showSuccess()]\n    }), CategoryForm(), CategoryBlock()]\n  });\n};\n\nexport default Category;","import { API } from \"../config\";\nimport fetch from \"isomorphic-fetch\";\nimport cookie from \"js-cookie\";\nimport { handleResponse } from \"./auth\";\nexport var create = function create(category, token) {\n  return fetch(\"\".concat(API, \"/category\"), {\n    \"method\": \"POST\",\n    headers: {\n      \"Accept\": \"application/json\",\n      \"Content-Type\": \"application/json\",\n      \"Authorization\": \"Bearer \".concat(token)\n    },\n    body: JSON.stringify(category)\n  }).then(function (response) {\n    handleResponse(response);\n    return response.json();\n  })[\"catch\"](function (err) {\n    return console.log(err);\n  });\n};\nexport var getAllCategories = function getAllCategories() {\n  return fetch(\"\".concat(API, \"/categories\"), {\n    \"method\": \"GET\"\n  }).then(function (res) {\n    return res.json();\n  })[\"catch\"](function (error) {\n    return console.log(error);\n  });\n};\nexport var getOneCategory = function getOneCategory(slug) {\n  return fetch(\"\".concat(API, \"/category/\").concat(slug), {\n    \"method\": \"GET\"\n  }).then(function (res) {\n    console.log(res);\n    return res.json();\n  })[\"catch\"](function (error) {\n    return console.log(error);\n  });\n};\nexport var deleteCategory = function deleteCategory(slug, token) {\n  return fetch(\"\".concat(API, \"/category/\").concat(slug), {\n    \"method\": \"DELETE\",\n    headers: {\n      \"Accept\": \"application/json\",\n      \"Content-Type\": \"application/json\",\n      \"Authorization\": \"Bearer \".concat(token)\n    }\n  }).then(function (response) {\n    handleResponse(response);\n    return response.json();\n  })[\"catch\"](function (error) {\n    return console.log(error);\n  });\n};","import { Fragment as _Fragment } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport React, { useState, useEffect } from \"react\";\nimport Link from \"next/link\";\nimport router from \"next/router\";\nimport { isAuth, getCookie } from \"../../actions/auth\";\nimport { list, removeBlog } from \"../../actions/blog\";\nimport moment from \"moment\";\n\nvar BlogRead = function BlogRead(_ref) {\n  var username = _ref.username;\n\n  var _useState = useState([]),\n      blogs = _useState[0],\n      setBlogs = _useState[1];\n\n  var _useState2 = useState(''),\n      message = _useState2[0],\n      setMessage = _useState2[1];\n\n  var token = getCookie(\"token\");\n\n  var loadBlogs = function loadBlogs() {\n    list(username).then(function (data) {\n      if (data.error || undefined) {\n        console.log(data.error);\n      } else {\n        setBlogs(data);\n      }\n    });\n  };\n\n  useEffect(function () {\n    loadBlogs();\n  }, []);\n\n  var deleteBlog = function deleteBlog(slug) {\n    removeBlog(slug, token).then(function (data) {\n      if (data.error) {\n        console.log(data.error);\n      } else {\n        setMessage(data.message);\n        loadBlogs();\n      }\n    });\n  };\n\n  var deleteConfirm = function deleteConfirm(slug) {\n    var answer = window.confirm(\"Are you sure you want to delete blog?\");\n\n    if (answer) {\n      deleteBlog(slug);\n    }\n  };\n\n  var showUpdateButton = function showUpdateButton(blog) {\n    if (isAuth() && isAuth.role === 0) {\n      return /*#__PURE__*/_jsx(Link, {\n        href: \"/admin/crud/\".concat(blog.slug),\n        children: /*#__PURE__*/_jsx(\"a\", {\n          className: \"ml-2 btn btn-sm btn-warning\",\n          children: \"Update\"\n        })\n      });\n    } else {\n      return /*#__PURE__*/_jsx(Link, {\n        href: \"/user/crud/\".concat(blog.slug),\n        children: /*#__PURE__*/_jsx(\"a\", {\n          className: \"btn btn-sm btn-warning\",\n          children: \"Update\"\n        })\n      });\n    }\n  };\n\n  var showAllBlogs = function showAllBlogs() {\n    return blogs.map(function (blog, i) {\n      return /*#__PURE__*/_jsxs(\"div\", {\n        className: \"pb-5\",\n        children: [/*#__PURE__*/_jsx(\"h3\", {\n          children: blog.title\n        }), /*#__PURE__*/_jsxs(\"p\", {\n          className: \"mark\",\n          children: [\"Written by \", blog.postedBy.name, \" | Published on \", moment(blog.updatedAt).fromNow()]\n        }), /*#__PURE__*/_jsx(\"button\", {\n          className: \"btn btn-sm btn-danger\",\n          onClick: function onClick() {\n            return deleteConfirm(blog.slug);\n          },\n          children: \"Delete\"\n        }), showUpdateButton(blog)]\n      }, i);\n    });\n  };\n\n  return /*#__PURE__*/_jsx(_Fragment, {\n    children: /*#__PURE__*/_jsx(\"div\", {\n      className: \"container\",\n      children: /*#__PURE__*/_jsxs(\"div\", {\n        className: \"row\",\n        children: [/*#__PURE__*/_jsx(\"p\", {\n          children: \"Update/Delete Blogs\"\n        }), /*#__PURE__*/_jsxs(\"div\", {\n          className: \"col-md-12\",\n          children: [message && /*#__PURE__*/_jsx(\"div\", {\n            className: \"alert alert-warning\",\n            children: message\n          }), showAllBlogs()]\n        })]\n      })\n    })\n  });\n};\n\nexport default BlogRead;"]}}