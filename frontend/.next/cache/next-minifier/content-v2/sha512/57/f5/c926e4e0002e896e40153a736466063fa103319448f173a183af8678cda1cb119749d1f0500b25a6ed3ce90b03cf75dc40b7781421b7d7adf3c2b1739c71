{"code":"_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[30],{LZ8r:function(e,n,t){\"use strict\";t.d(n,\"a\",(function(){return a}));var c=t(\"nKUr\"),r=t(\"q1tI\"),s=t(\"iuBY\"),i=t(\"20a2\"),a=function(e){var n=e.children;return Object(r.useEffect)((function(){Object(s.d)()||0!==Object(s.d)().role||i.Router.push(\"/signin\")}),[]),Object(c.jsx)(c.Fragment,{children:n})}},N65x:function(e,n,t){\"use strict\";t.r(n);var c=t(\"nKUr\"),r=(t(\"q1tI\"),t(\"h7RS\")),s=t(\"nVAt\"),i=t(\"LZ8r\"),a=t(\"iuBY\");n.default=function(){var e=Object(a.d)()&&Object(a.d)().username;return console.log(e),Object(c.jsx)(r.a,{children:Object(c.jsx)(i.a,{children:Object(c.jsx)(\"div\",{className:\"container\",children:Object(c.jsxs)(\"div\",{className:\"row\",children:[Object(c.jsx)(\"div\",{className:\"col-md-12 pt-4 pb-4\",children:Object(c.jsx)(\"h1\",{children:\"Manage Blogs\"})}),Object(c.jsx)(\"div\",{className:\"col-md-12\",children:Object(c.jsx)(\"li\",{className:\"list-group-item\",children:Object(c.jsx)(s.a,{username:e})})})]})})})})}},SCLT:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push([\"/user/crud/blogs\",function(){return t(\"N65x\")}])},nVAt:function(e,n,t){\"use strict\";var c=t(\"nKUr\"),r=t(\"q1tI\"),s=t(\"YFqc\"),i=t.n(s),a=(t(\"20a2\"),t(\"iuBY\")),l=t(\"zycw\"),o=t(\"wd/R\"),d=t.n(o);n.a=function(e){var n=e.username,t=Object(r.useState)([]),s=t[0],o=t[1],j=Object(r.useState)(\"\"),u=j[0],b=j[1],O=Object(a.b)(\"token\"),h=function(){Object(l.b)(n).then((function(e){e.error?console.log(e.error):o(e)}))};Object(r.useEffect)((function(){h()}),[]);var m=function(e){window.confirm(\"Are you sure you want to delete blog?\")&&function(e){Object(l.f)(e,O).then((function(e){e.error?console.log(e.error):(b(e.message),h())}))}(e)},f=function(e){return Object(a.d)()&&0===a.d.role?Object(c.jsx)(i.a,{href:\"/admin/crud/\".concat(e.slug),children:Object(c.jsx)(\"a\",{className:\"ml-2 btn btn-sm btn-warning\",children:\"Update\"})}):Object(c.jsx)(i.a,{href:\"/user/crud/\".concat(e.slug),children:Object(c.jsx)(\"a\",{className:\"btn btn-sm btn-warning\",children:\"Update\"})})};return Object(c.jsx)(c.Fragment,{children:Object(c.jsx)(\"div\",{className:\"container\",children:Object(c.jsxs)(\"div\",{className:\"row\",children:[Object(c.jsx)(\"p\",{children:\"Update/Delete Blogs\"}),Object(c.jsxs)(\"div\",{className:\"col-md-12\",children:[u&&Object(c.jsx)(\"div\",{className:\"alert alert-warning\",children:u}),s.map((function(e,n){return Object(c.jsxs)(\"div\",{className:\"pb-5\",children:[Object(c.jsx)(\"h3\",{children:e.title}),Object(c.jsxs)(\"p\",{className:\"mark\",children:[\"Written by \",e.postedBy.name,\" | Published on \",d()(e.updatedAt).fromNow()]}),Object(c.jsx)(\"button\",{className:\"btn btn-sm btn-danger\",onClick:function(){return m(e.slug)},children:\"Delete\"}),f(e)]},n)}))]})]})})})}}},[[\"SCLT\",1,0,4,2,3,5]]]);","map":{"version":3,"sources":["static/chunks/pages/user/crud/blogs-7aa8c38b9e43ae52de50.js"],"names":["_N_E","window","push","LZ8r","module","__webpack_exports__","__webpack_require__","d","Private","react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__","react__WEBPACK_IMPORTED_MODULE_1__","_auth__WEBPACK_IMPORTED_MODULE_2__","next_router__WEBPACK_IMPORTED_MODULE_3__","_ref","children","Object","role","N65x","r","_components_Layout__WEBPACK_IMPORTED_MODULE_2__","_components_crud_BlogRead__WEBPACK_IMPORTED_MODULE_3__","_actions_Private__WEBPACK_IMPORTED_MODULE_4__","_actions_auth__WEBPACK_IMPORTED_MODULE_5__","username","console","log","className","SCLT","exports","__NEXT_P","nVAt","next_link__WEBPACK_IMPORTED_MODULE_2__","next_link__WEBPACK_IMPORTED_MODULE_2___default","n","_actions_auth__WEBPACK_IMPORTED_MODULE_4__","_actions_blog__WEBPACK_IMPORTED_MODULE_5__","moment__WEBPACK_IMPORTED_MODULE_6__","moment__WEBPACK_IMPORTED_MODULE_6___default","_useState","blogs","setBlogs","_useState2","message","setMessage","token","loadBlogs","then","data","error","deleteConfirm","slug","confirm","deleteBlog","showUpdateButton","blog","a","href","concat","map","i","title","postedBy","name","updatedAt","fromNow","onClick"],"mappings":"AAAAA,MACCC,OAAyB,iBAAIA,OAAyB,kBAAK,IAAIC,KAAK,CAAC,CAAC,IAAI,CAErEC,KACA,SAAUC,EAAQC,EAAqBC,GAE7C,aAC+BA,EAAoBC,EAAEF,EAAqB,KAAK,WAAa,OAAOG,KAC9E,IAAIC,EAAiDH,EAAoB,QAErEI,EAAqCJ,EAAoB,QAEzDK,EAAqCL,EAAoB,QACzDM,EAA2CN,EAAoB,QAOpFE,EAAU,SAAiBK,GAC7B,IAAIC,EAAWD,EAAKC,SAMpB,OALAC,OAAOL,EAA8C,UAArDK,EAAwD,WACjDA,OAAOJ,EAAmD,EAA1DI,IAA0I,IAAxEA,OAAOJ,EAAmD,EAA1DI,GAA+DC,MACpIJ,EAAiD,OAAEV,KAAK,aAEzD,IACiBa,OAAON,EAAoD,IAA3DM,CAA8DN,EAAyD,SAAG,CAC5IK,SAAUA,MAMRG,KACA,SAAUb,EAAQC,EAAqBC,GAE7C,aACAA,EAAoBY,EAAEb,GACD,IAAII,EAAiDH,EAAoB,QAIrEa,GAFqCb,EAAoB,QAEPA,EAAoB,SACtEc,EAAyDd,EAAoB,QAC7Ee,EAAgDf,EAAoB,QACpEgB,EAA6ChB,EAAoB,QAsC7DD,EAA6B,QA7B1D,WACE,IAAIkB,EAAWR,OAAOO,EAA2D,EAAlEP,IAA0EA,OAAOO,EAA2D,EAAlEP,GAAuEQ,SAEhK,OADAC,QAAQC,IAAIF,GACQR,OAAON,EAAoD,IAA3DM,CAA8DI,EAAgE,EAAG,CACnJL,SAAuBC,OAAON,EAAoD,IAA3DM,CAA8DM,EAA+D,EAAG,CACrJP,SAAuBC,OAAON,EAAoD,IAA3DM,CAA8D,MAAO,CAC1FW,UAAW,YACXZ,SAAuBC,OAAON,EAAqD,KAA5DM,CAA+D,MAAO,CAC3FW,UAAW,MACXZ,SAAU,CAAcC,OAAON,EAAoD,IAA3DM,CAA8D,MAAO,CAC3FW,UAAW,sBACXZ,SAAuBC,OAAON,EAAoD,IAA3DM,CAA8D,KAAM,CACzFD,SAAU,mBAEGC,OAAON,EAAoD,IAA3DM,CAA8D,MAAO,CACpFW,UAAW,YACXZ,SAAuBC,OAAON,EAAoD,IAA3DM,CAA8D,KAAM,CACzFW,UAAW,kBACXZ,SAAuBC,OAAON,EAAoD,IAA3DM,CAA8DK,EAAwE,EAAG,CAC9JG,SAAUA,mBAcpBI,KACA,SAAUvB,EAAQwB,EAAStB,IAG5BL,OAAO4B,SAAW5B,OAAO4B,UAAY,IAAI3B,KAAK,CAC7C,mBACA,WACE,OAAOI,EAAoB,YAO7BwB,KACA,SAAU1B,EAAQC,EAAqBC,GAE7C,aACqB,IAAIG,EAAiDH,EAAoB,QAErEI,EAAqCJ,EAAoB,QAEzDyB,EAAyCzB,EAAoB,QAC7D0B,EAA8D1B,EAAoB2B,EAAEF,GAGpFG,GAF2C5B,EAAoB,QAElBA,EAAoB,SACjE6B,EAA6C7B,EAAoB,QACjE8B,EAAsC9B,EAAoB,QAC1D+B,EAA2D/B,EAAoB2B,EAAEG,GAoH7E/B,EAAuB,EAzGrC,SAAkBQ,GAC/B,IAAIU,EAAWV,EAAKU,SAEhBe,EAAYvB,OAAOL,EAA6C,SAApDK,CAAuD,IACnEwB,EAAQD,EAAU,GAClBE,EAAWF,EAAU,GAErBG,EAAa1B,OAAOL,EAA6C,SAApDK,CAAuD,IACpE2B,EAAUD,EAAW,GACrBE,EAAaF,EAAW,GAExBG,EAAQ7B,OAAOmB,EAA8D,EAArEnB,CAAwE,SAEhF8B,EAAY,WACd9B,OAAOoB,EAAyD,EAAhEpB,CAAmEQ,GAAUuB,MAAK,SAAUC,GACtFA,EAAKC,MACPxB,QAAQC,IAAIsB,EAAKC,OAEjBR,EAASO,OAKfhC,OAAOL,EAA8C,UAArDK,EAAwD,WACtD8B,MACC,IAEH,IAWII,EAAgB,SAAuBC,GAC5BjD,OAAOkD,QAAQ,0CAZb,SAAoBD,GACnCnC,OAAOoB,EAA+D,EAAtEpB,CAAyEmC,EAAMN,GAAOE,MAAK,SAAUC,GAC/FA,EAAKC,MACPxB,QAAQC,IAAIsB,EAAKC,QAEjBL,EAAWI,EAAKL,SAChBG,QASFO,CAAWF,IAIXG,EAAmB,SAA0BC,GAC/C,OAAIvC,OAAOmB,EAA2D,EAAlEnB,IAAgJ,IAAtEmB,EAA2D,EAAElB,KACrHD,OAAON,EAAoD,IAA3DM,CAA8DiB,EAA+CuB,EAAG,CAClIC,KAAM,eAAeC,OAAOH,EAAKJ,MACjCpC,SAAuBC,OAAON,EAAoD,IAA3DM,CAA8D,IAAK,CACxFW,UAAW,8BACXZ,SAAU,aAIMC,OAAON,EAAoD,IAA3DM,CAA8DiB,EAA+CuB,EAAG,CAClIC,KAAM,cAAcC,OAAOH,EAAKJ,MAChCpC,SAAuBC,OAAON,EAAoD,IAA3DM,CAA8D,IAAK,CACxFW,UAAW,yBACXZ,SAAU,cA0BlB,OAAoBC,OAAON,EAAoD,IAA3DM,CAA8DN,EAAyD,SAAG,CAC5IK,SAAuBC,OAAON,EAAoD,IAA3DM,CAA8D,MAAO,CAC1FW,UAAW,YACXZ,SAAuBC,OAAON,EAAqD,KAA5DM,CAA+D,MAAO,CAC3FW,UAAW,MACXZ,SAAU,CAAcC,OAAON,EAAoD,IAA3DM,CAA8D,IAAK,CACzFD,SAAU,wBACKC,OAAON,EAAqD,KAA5DM,CAA+D,MAAO,CACrFW,UAAW,YACXZ,SAAU,CAAC4B,GAAwB3B,OAAON,EAAoD,IAA3DM,CAA8D,MAAO,CACtGW,UAAW,sBACXZ,SAAU4B,IA9BXH,EAAMmB,KAAI,SAAUJ,EAAMK,GAC/B,OAAoB5C,OAAON,EAAqD,KAA5DM,CAA+D,MAAO,CACxFW,UAAW,OACXZ,SAAU,CAAcC,OAAON,EAAoD,IAA3DM,CAA8D,KAAM,CAC1FD,SAAUwC,EAAKM,QACA7C,OAAON,EAAqD,KAA5DM,CAA+D,IAAK,CACnFW,UAAW,OACXZ,SAAU,CAAC,cAAewC,EAAKO,SAASC,KAAM,mBAAoBzB,GAAAA,CAA8CiB,EAAKS,WAAWC,aACjHjD,OAAON,EAAoD,IAA3DM,CAA8D,SAAU,CACvFW,UAAW,wBACXuC,QAAS,WACP,OAAOhB,EAAcK,EAAKJ,OAE5BpC,SAAU,WACRuC,EAAiBC,KACpBK,mBA2BP,CAAC,CAAC,OAAO,EAAE,EAAE,EAAE,EAAE,EAAE"},"name":"static/chunks/pages/user/crud/blogs-7aa8c38b9e43ae52de50.js","input":"_N_E =\n(window[\"webpackJsonp_N_E\"] = window[\"webpackJsonp_N_E\"] || []).push([[30],{\n\n/***/ \"LZ8r\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return Private; });\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(\"nKUr\");\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(\"q1tI\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _auth__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(\"iuBY\");\n/* harmony import */ var next_router__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(\"20a2\");\n/* harmony import */ var next_router__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(next_router__WEBPACK_IMPORTED_MODULE_3__);\n\n\n\n\n\nvar Private = function Private(_ref) {\n  var children = _ref.children;\n  Object(react__WEBPACK_IMPORTED_MODULE_1__[\"useEffect\"])(function () {\n    if (!Object(_auth__WEBPACK_IMPORTED_MODULE_2__[/* isAuth */ \"d\"])() && Object(_auth__WEBPACK_IMPORTED_MODULE_2__[/* isAuth */ \"d\"])().role === 0) {\n      next_router__WEBPACK_IMPORTED_MODULE_3__[\"Router\"].push(\"/signin\");\n    }\n  }, []);\n  return /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__[\"Fragment\"], {\n    children: children\n  });\n};\n\n/***/ }),\n\n/***/ \"N65x\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(\"nKUr\");\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(\"q1tI\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _components_Layout__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(\"h7RS\");\n/* harmony import */ var _components_crud_BlogRead__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(\"nVAt\");\n/* harmony import */ var _actions_Private__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(\"LZ8r\");\n/* harmony import */ var _actions_auth__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(\"iuBY\");\n\n\n\n\n\n\n\n\nfunction Category1() {\n  var username = Object(_actions_auth__WEBPACK_IMPORTED_MODULE_5__[/* isAuth */ \"d\"])() && Object(_actions_auth__WEBPACK_IMPORTED_MODULE_5__[/* isAuth */ \"d\"])().username;\n  console.log(username);\n  return /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(_components_Layout__WEBPACK_IMPORTED_MODULE_2__[/* Layout */ \"a\"], {\n    children: /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(_actions_Private__WEBPACK_IMPORTED_MODULE_4__[/* Private */ \"a\"], {\n      children: /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"div\", {\n        className: \"container\",\n        children: /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__[\"jsxs\"])(\"div\", {\n          className: \"row\",\n          children: [/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"div\", {\n            className: \"col-md-12 pt-4 pb-4\",\n            children: /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"h1\", {\n              children: \"Manage Blogs\"\n            })\n          }), /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"div\", {\n            className: \"col-md-12\",\n            children: /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"li\", {\n              className: \"list-group-item\",\n              children: /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(_components_crud_BlogRead__WEBPACK_IMPORTED_MODULE_3__[/* default */ \"a\"], {\n                username: username\n              })\n            })\n          })]\n        })\n      })\n    })\n  });\n}\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (Category1);\n\n/***/ }),\n\n/***/ \"SCLT\":\n/***/ (function(module, exports, __webpack_require__) {\n\n\n    (window.__NEXT_P = window.__NEXT_P || []).push([\n      \"/user/crud/blogs\",\n      function () {\n        return __webpack_require__(\"N65x\");\n      }\n    ]);\n  \n\n/***/ }),\n\n/***/ \"nVAt\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(\"nKUr\");\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(\"q1tI\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var next_link__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(\"YFqc\");\n/* harmony import */ var next_link__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_link__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var next_router__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(\"20a2\");\n/* harmony import */ var next_router__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(next_router__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _actions_auth__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(\"iuBY\");\n/* harmony import */ var _actions_blog__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(\"zycw\");\n/* harmony import */ var moment__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(\"wd/R\");\n/* harmony import */ var moment__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(moment__WEBPACK_IMPORTED_MODULE_6__);\n\n\n\n\n\n\n\n\n\n\nvar BlogRead = function BlogRead(_ref) {\n  var username = _ref.username;\n\n  var _useState = Object(react__WEBPACK_IMPORTED_MODULE_1__[\"useState\"])([]),\n      blogs = _useState[0],\n      setBlogs = _useState[1];\n\n  var _useState2 = Object(react__WEBPACK_IMPORTED_MODULE_1__[\"useState\"])(''),\n      message = _useState2[0],\n      setMessage = _useState2[1];\n\n  var token = Object(_actions_auth__WEBPACK_IMPORTED_MODULE_4__[/* getCookie */ \"b\"])(\"token\");\n\n  var loadBlogs = function loadBlogs() {\n    Object(_actions_blog__WEBPACK_IMPORTED_MODULE_5__[/* list */ \"b\"])(username).then(function (data) {\n      if (data.error || undefined) {\n        console.log(data.error);\n      } else {\n        setBlogs(data);\n      }\n    });\n  };\n\n  Object(react__WEBPACK_IMPORTED_MODULE_1__[\"useEffect\"])(function () {\n    loadBlogs();\n  }, []);\n\n  var deleteBlog = function deleteBlog(slug) {\n    Object(_actions_blog__WEBPACK_IMPORTED_MODULE_5__[/* removeBlog */ \"f\"])(slug, token).then(function (data) {\n      if (data.error) {\n        console.log(data.error);\n      } else {\n        setMessage(data.message);\n        loadBlogs();\n      }\n    });\n  };\n\n  var deleteConfirm = function deleteConfirm(slug) {\n    var answer = window.confirm(\"Are you sure you want to delete blog?\");\n\n    if (answer) {\n      deleteBlog(slug);\n    }\n  };\n\n  var showUpdateButton = function showUpdateButton(blog) {\n    if (Object(_actions_auth__WEBPACK_IMPORTED_MODULE_4__[/* isAuth */ \"d\"])() && _actions_auth__WEBPACK_IMPORTED_MODULE_4__[/* isAuth */ \"d\"].role === 0) {\n      return /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(next_link__WEBPACK_IMPORTED_MODULE_2___default.a, {\n        href: \"/admin/crud/\".concat(blog.slug),\n        children: /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"a\", {\n          className: \"ml-2 btn btn-sm btn-warning\",\n          children: \"Update\"\n        })\n      });\n    } else {\n      return /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(next_link__WEBPACK_IMPORTED_MODULE_2___default.a, {\n        href: \"/user/crud/\".concat(blog.slug),\n        children: /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"a\", {\n          className: \"btn btn-sm btn-warning\",\n          children: \"Update\"\n        })\n      });\n    }\n  };\n\n  var showAllBlogs = function showAllBlogs() {\n    return blogs.map(function (blog, i) {\n      return /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__[\"jsxs\"])(\"div\", {\n        className: \"pb-5\",\n        children: [/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"h3\", {\n          children: blog.title\n        }), /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__[\"jsxs\"])(\"p\", {\n          className: \"mark\",\n          children: [\"Written by \", blog.postedBy.name, \" | Published on \", moment__WEBPACK_IMPORTED_MODULE_6___default()(blog.updatedAt).fromNow()]\n        }), /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"button\", {\n          className: \"btn btn-sm btn-danger\",\n          onClick: function onClick() {\n            return deleteConfirm(blog.slug);\n          },\n          children: \"Delete\"\n        }), showUpdateButton(blog)]\n      }, i);\n    });\n  };\n\n  return /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__[\"Fragment\"], {\n    children: /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"div\", {\n      className: \"container\",\n      children: /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__[\"jsxs\"])(\"div\", {\n        className: \"row\",\n        children: [/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"p\", {\n          children: \"Update/Delete Blogs\"\n        }), /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__[\"jsxs\"])(\"div\", {\n          className: \"col-md-12\",\n          children: [message && /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"div\", {\n            className: \"alert alert-warning\",\n            children: message\n          }), showAllBlogs()]\n        })]\n      })\n    })\n  });\n};\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (BlogRead);\n\n/***/ })\n\n},[[\"SCLT\",1,0,4,2,3,5]]]);","inputSourceMap":{"version":3,"sources":["E:\\seoblog\\frontend\\node_modules\\next\\dist\\build\\webpack\\loaders\\next-babel-loader.js??ref--4!E:\\seoblog\\frontend\\actions\\Private.js","E:\\seoblog\\frontend\\node_modules\\next\\dist\\build\\webpack\\loaders\\next-babel-loader.js??ref--4!E:\\seoblog\\frontend\\pages\\user\\crud\\blogs.js","E:\\seoblog\\frontend\\node_modules\\next\\dist\\build\\webpack\\loaders\\next-client-pages-loader.js?page=%2Fuser%2Fcrud%2Fblogs&absolutePagePath=private-next-pages%2Fuser%2Fcrud%2Fblogs.js!","E:\\seoblog\\frontend\\node_modules\\next\\dist\\build\\webpack\\loaders\\next-babel-loader.js??ref--4!E:\\seoblog\\frontend\\components\\crud\\BlogRead.js"],"names":[],"mappings":";;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAgD;AACU;AACxB;AACF;AACK;AAC9B;AACP;AACA,EAAE,uDAAS;AACX,SAAS,4DAAM,MAAM,4DAAM;AAC3B,MAAM,kDAAM;AACZ;AACA,GAAG;AACH,sBAAsB,6DAAI,CAAC,0DAAS;AACpC;AACA,GAAG;AACH,E;;;;;;;;ACfA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAkD;AACF;AACtB;AAC0B;AACK;AACN;AACJ;;AAE/C;AACA,iBAAiB,oEAAM,MAAM,oEAAM;AACnC;AACA,sBAAsB,6DAAI,CAAC,iEAAM;AACjC,2BAA2B,6DAAI,CAAC,gEAAO;AACvC,6BAA6B,6DAAI;AACjC;AACA,+BAA+B,8DAAK;AACpC;AACA,kCAAkC,6DAAI;AACtC;AACA,mCAAmC,6DAAI;AACvC;AACA,aAAa;AACb,WAAW,gBAAgB,6DAAI;AAC/B;AACA,mCAAmC,6DAAI;AACvC;AACA,qCAAqC,6DAAI,CAAC,yEAAQ;AAClD;AACA,eAAe;AACf,aAAa;AACb,WAAW;AACX,SAAS;AACT,OAAO;AACP,KAAK;AACL,GAAG;AACH;;AAEe,wEAAS,E;;;;;;;;ACpCxB;AACA;AACA;AACA,eAAe,mBAAO,CAAC,MAAuC;AAC9D;AACA;;;;;;;;;ACNA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAA0D;AACR;AACF;AACG;AACtB;AACI;AACsB;AACD;AAC1B;;AAE5B;AACA;;AAEA,kBAAkB,sDAAQ;AAC1B;AACA;;AAEA,mBAAmB,sDAAQ;AAC3B;AACA;;AAEA,cAAc,uEAAS;;AAEvB;AACA,IAAI,kEAAI;AACR;AACA;AACA,OAAO;AACP;AACA;AACA,KAAK;AACL;;AAEA,EAAE,uDAAS;AACX;AACA,GAAG;;AAEH;AACA,IAAI,wEAAU;AACd;AACA;AACA,OAAO;AACP;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,QAAQ,oEAAM,MAAM,4DAAM;AAC1B,0BAA0B,6DAAI,CAAC,gDAAI;AACnC;AACA,+BAA+B,6DAAI;AACnC;AACA;AACA,SAAS;AACT,OAAO;AACP,KAAK;AACL,0BAA0B,6DAAI,CAAC,gDAAI;AACnC;AACA,+BAA+B,6DAAI;AACnC;AACA;AACA,SAAS;AACT,OAAO;AACP;AACA;;AAEA;AACA;AACA,0BAA0B,8DAAK;AAC/B;AACA,gCAAgC,6DAAI;AACpC;AACA,SAAS,gBAAgB,8DAAK;AAC9B;AACA,4EAA4E,6CAAM;AAClF,SAAS,gBAAgB,6DAAI;AAC7B;AACA;AACA;AACA,WAAW;AACX;AACA,SAAS;AACT,OAAO;AACP,KAAK;AACL;;AAEA,sBAAsB,6DAAI,CAAC,0DAAS;AACpC,2BAA2B,6DAAI;AAC/B;AACA,6BAA6B,8DAAK;AAClC;AACA,gCAAgC,6DAAI;AACpC;AACA,SAAS,gBAAgB,8DAAK;AAC9B;AACA,6CAA6C,6DAAI;AACjD;AACA;AACA,WAAW;AACX,SAAS;AACT,OAAO;AACP,KAAK;AACL,GAAG;AACH;;AAEe,iEAAQ,E","file":"x","sourcesContent":["import { jsx as _jsx } from \"react/jsx-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-runtime\";\nimport { useEffect } from \"react\";\nimport { isAuth } from \"./auth\";\nimport { Router } from \"next/router\";\nexport var Private = function Private(_ref) {\n  var children = _ref.children;\n  useEffect(function () {\n    if (!isAuth() && isAuth().role === 0) {\n      Router.push(\"/signin\");\n    }\n  }, []);\n  return /*#__PURE__*/_jsx(_Fragment, {\n    children: children\n  });\n};","import { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport React from \"react\";\nimport { Layout } from \"../../../components/Layout\";\nimport BlogRead from \"../../../components/crud/BlogRead\";\nimport { Private } from \"../../../actions/Private\";\nimport { isAuth } from \"../../../actions/auth\";\n\nfunction Category1() {\n  var username = isAuth() && isAuth().username;\n  console.log(username);\n  return /*#__PURE__*/_jsx(Layout, {\n    children: /*#__PURE__*/_jsx(Private, {\n      children: /*#__PURE__*/_jsx(\"div\", {\n        className: \"container\",\n        children: /*#__PURE__*/_jsxs(\"div\", {\n          className: \"row\",\n          children: [/*#__PURE__*/_jsx(\"div\", {\n            className: \"col-md-12 pt-4 pb-4\",\n            children: /*#__PURE__*/_jsx(\"h1\", {\n              children: \"Manage Blogs\"\n            })\n          }), /*#__PURE__*/_jsx(\"div\", {\n            className: \"col-md-12\",\n            children: /*#__PURE__*/_jsx(\"li\", {\n              className: \"list-group-item\",\n              children: /*#__PURE__*/_jsx(BlogRead, {\n                username: username\n              })\n            })\n          })]\n        })\n      })\n    })\n  });\n}\n\nexport default Category1;","\n    (window.__NEXT_P = window.__NEXT_P || []).push([\n      \"/user/crud/blogs\",\n      function () {\n        return require(\"private-next-pages/user/crud/blogs.js\");\n      }\n    ]);\n  ","import { Fragment as _Fragment } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport React, { useState, useEffect } from \"react\";\nimport Link from \"next/link\";\nimport router from \"next/router\";\nimport { isAuth, getCookie } from \"../../actions/auth\";\nimport { list, removeBlog } from \"../../actions/blog\";\nimport moment from \"moment\";\n\nvar BlogRead = function BlogRead(_ref) {\n  var username = _ref.username;\n\n  var _useState = useState([]),\n      blogs = _useState[0],\n      setBlogs = _useState[1];\n\n  var _useState2 = useState(''),\n      message = _useState2[0],\n      setMessage = _useState2[1];\n\n  var token = getCookie(\"token\");\n\n  var loadBlogs = function loadBlogs() {\n    list(username).then(function (data) {\n      if (data.error || undefined) {\n        console.log(data.error);\n      } else {\n        setBlogs(data);\n      }\n    });\n  };\n\n  useEffect(function () {\n    loadBlogs();\n  }, []);\n\n  var deleteBlog = function deleteBlog(slug) {\n    removeBlog(slug, token).then(function (data) {\n      if (data.error) {\n        console.log(data.error);\n      } else {\n        setMessage(data.message);\n        loadBlogs();\n      }\n    });\n  };\n\n  var deleteConfirm = function deleteConfirm(slug) {\n    var answer = window.confirm(\"Are you sure you want to delete blog?\");\n\n    if (answer) {\n      deleteBlog(slug);\n    }\n  };\n\n  var showUpdateButton = function showUpdateButton(blog) {\n    if (isAuth() && isAuth.role === 0) {\n      return /*#__PURE__*/_jsx(Link, {\n        href: \"/admin/crud/\".concat(blog.slug),\n        children: /*#__PURE__*/_jsx(\"a\", {\n          className: \"ml-2 btn btn-sm btn-warning\",\n          children: \"Update\"\n        })\n      });\n    } else {\n      return /*#__PURE__*/_jsx(Link, {\n        href: \"/user/crud/\".concat(blog.slug),\n        children: /*#__PURE__*/_jsx(\"a\", {\n          className: \"btn btn-sm btn-warning\",\n          children: \"Update\"\n        })\n      });\n    }\n  };\n\n  var showAllBlogs = function showAllBlogs() {\n    return blogs.map(function (blog, i) {\n      return /*#__PURE__*/_jsxs(\"div\", {\n        className: \"pb-5\",\n        children: [/*#__PURE__*/_jsx(\"h3\", {\n          children: blog.title\n        }), /*#__PURE__*/_jsxs(\"p\", {\n          className: \"mark\",\n          children: [\"Written by \", blog.postedBy.name, \" | Published on \", moment(blog.updatedAt).fromNow()]\n        }), /*#__PURE__*/_jsx(\"button\", {\n          className: \"btn btn-sm btn-danger\",\n          onClick: function onClick() {\n            return deleteConfirm(blog.slug);\n          },\n          children: \"Delete\"\n        }), showUpdateButton(blog)]\n      }, i);\n    });\n  };\n\n  return /*#__PURE__*/_jsx(_Fragment, {\n    children: /*#__PURE__*/_jsx(\"div\", {\n      className: \"container\",\n      children: /*#__PURE__*/_jsxs(\"div\", {\n        className: \"row\",\n        children: [/*#__PURE__*/_jsx(\"p\", {\n          children: \"Update/Delete Blogs\"\n        }), /*#__PURE__*/_jsxs(\"div\", {\n          className: \"col-md-12\",\n          children: [message && /*#__PURE__*/_jsx(\"div\", {\n            className: \"alert alert-warning\",\n            children: message\n          }), showAllBlogs()]\n        })]\n      })\n    })\n  });\n};\n\nexport default BlogRead;"]}}