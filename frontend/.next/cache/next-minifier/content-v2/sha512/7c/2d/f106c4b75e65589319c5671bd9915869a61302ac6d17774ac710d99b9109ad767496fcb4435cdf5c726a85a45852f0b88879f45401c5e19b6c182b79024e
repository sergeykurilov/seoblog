{"code":"_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[29],{LZ8r:function(e,t,r){\"use strict\";r.d(t,\"a\",(function(){return i}));var c=r(\"nKUr\"),n=r(\"q1tI\"),s=r(\"iuBY\"),a=r(\"20a2\"),i=function(e){var t=e.children;return Object(n.useEffect)((function(){Object(s.d)()||0!==Object(s.d)().role||a.Router.push(\"/signin\")}),[]),Object(c.jsx)(c.Fragment,{children:t})}},SD2O:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push([\"/user/crud/blog\",function(){return r(\"bexL\")}])},bexL:function(e,t,r){\"use strict\";r.r(t);var c=r(\"nKUr\"),n=(r(\"q1tI\"),r(\"h7RS\")),s=(r(\"69Wt\"),r(\"fLEO\")),a=r(\"LZ8r\");t.default=function(){return Object(c.jsx)(n.a,{children:Object(c.jsx)(a.a,{children:Object(c.jsx)(\"div\",{className:\"container\",children:Object(c.jsxs)(\"div\",{className:\"row\",children:[Object(c.jsx)(\"div\",{className:\"col-md-12 pt-4 pb-4\",children:Object(c.jsx)(\"h1\",{children:\"Manage Blog\"})}),Object(c.jsx)(\"div\",{className:\"col-md-12\",children:Object(c.jsx)(\"li\",{className:\"list-group-item\",children:Object(c.jsx)(s.a,{})})})]})})})})}},fLEO:function(e,t,r){\"use strict\";var c=r(\"nKUr\"),n=r(\"z7pX\"),s=r(\"cpVT\"),a=r(\"q1tI\"),i=(r(\"YFqc\"),r(\"zycw\")),l=r(\"iuBY\"),o=r(\"20a2\"),j=r.n(o),b=r(\"Vvt1\"),u=r.n(b),d=(r(\"0Bsm\"),r(\"qTkD\")),O=r(\"abxw\"),h=r(\"//g3\");function m(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);t&&(c=c.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,c)}return r}function f(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?m(Object(r),!0).forEach((function(t){Object(s.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):m(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var x=u()((function(){return Promise.all([r.e(0),r.e(7),r.e(8)]).then(r.t.bind(null,\"rmP6\",7))}),{ssr:!1,loadableGenerated:{webpack:function(){return[\"rmP6\"]},modules:[\"react-quill\"]}});Object(l.b)(\"token\");t.a=function(){var e=Object(a.useState)([]),t=e[0],r=e[1],o=Object(a.useState)([]),b=o[0],u=o[1],m=Object(a.useState)([]),p=m[0],g=m[1],v=Object(a.useState)([]),N=v[0],y=v[1],w=Object(a.useState)(!!localStorage.getItem(\"blog\")&&JSON.parse(localStorage.getItem(\"blog\"))),S=w[0],P=w[1],_=Object(a.useState)({error:\"\",sizeError:\"\",success:\"\",formData:\"\",title:\"\",hidePublishButton:!1}),D=_[0],E=_[1],k=D.error,q=(D.sizeError,D.success),z=D.formData,B=D.title,C=(D.hidePublishButton,Object(l.b)(\"token\"));Object(a.useEffect)((function(){E(f(f({},D),{},{formData:new FormData})),I(),L()}),[j.a]);var I=function(){Object(O.c)().then((function(e){e.error?E(f(f({},D),{},{error:e.error})):r(e)}))},L=function(){Object(d.c)().then((function(e){e.error?E(f(f({},D),{},{error:e.error})):u(e)}))},T=function(e){e.preventDefault(),Object(i.a)(z,C).then((function(e){e.error?E(f(f({},D),{},{error:e.error})):(E(f(f({},D),{},{title:\"\",error:\"\",success:'A new blog titled \"'.concat(e.title,'\" is created')})),P(\"\"),r([]),u([]))}))},Y=function(e){return function(t){var r,c=\"photo\"===e?t.target.files[0]:t.target.value;z.set(e,c),E(f(f({},D),{},(r={},Object(s.a)(r,e,c),Object(s.a)(r,\"formData\",z),Object(s.a)(r,\"error\",\"\"),r)))}},F=function(e){P(e),z.set(\"body\",e),localStorage.setItem(\"blog\",JSON.stringify(e))},J=function(e){return function(){E(f(f({},D),{},{error:\"\"}));var t=p.indexOf(e),r=Object(n.a)(p);-1===t?r.push(e):r.splice(t,1),g(r),z.set(\"categories\",r)}},U=function(e){return function(){E(f(f({},D),{},{error:\"\"}));var t=p.indexOf(e),r=Object(n.a)(N);-1===t?r.push(e):r.splice(t,1),console.log(r),y(r),z.set(\"tags\",r)}};return Object(c.jsx)(\"div\",{className:\"container-fluid pb-5\",children:Object(c.jsxs)(\"div\",{className:\"row\",children:[Object(c.jsxs)(\"div\",{className:\"col-md-8\",children:[Object(c.jsxs)(\"form\",{onSubmit:T,children:[Object(c.jsxs)(\"div\",{className:\"form-group\",children:[Object(c.jsx)(\"label\",{className:\"text-muted\",children:\"Title\"}),Object(c.jsx)(\"input\",{type:\"text\",className:\"form-control\",value:B,onChange:Y(\"title\")})]}),Object(c.jsx)(\"div\",{className:\"form-group\",children:Object(c.jsx)(x,{theme:\"snow\",modules:h.b,formats:h.a,value:S,placeholder:\"Write something amazing...\",onChange:F})}),Object(c.jsx)(\"div\",{children:Object(c.jsx)(\"button\",{type:\"submit\",className:\"btn btn-primary\",children:\"Publish\"})})]}),Object(c.jsxs)(\"div\",{className:\"pt-3\",children:[Object(c.jsx)(\"div\",{className:\"alert alert-danger\",style:{display:k?\"\":\"none\"},children:k}),Object(c.jsx)(\"div\",{className:\"alert alert-success\",style:{display:q?\"\":\"none\"},children:q})]})]}),Object(c.jsxs)(\"div\",{className:\"col-md-4\",children:[Object(c.jsx)(\"div\",{children:Object(c.jsxs)(\"div\",{className:\"form-group pb-2\",children:[Object(c.jsx)(\"h5\",{children:\"Featured image\"}),Object(c.jsx)(\"hr\",{}),Object(c.jsx)(\"small\",{className:\"text-muted\",children:\"Max size: 1mb\"}),Object(c.jsx)(\"br\",{}),Object(c.jsxs)(\"label\",{className:\"btn btn-outline-info\",children:[\"Upload featured image\",Object(c.jsx)(\"input\",{onChange:Y(\"photo\"),type:\"file\",accept:\"image/*\",hidden:!0})]})]})}),Object(c.jsxs)(\"div\",{children:[Object(c.jsx)(\"h5\",{children:\"Categories\"}),Object(c.jsx)(\"hr\",{}),Object(c.jsx)(\"ul\",{style:{maxHeight:\"200px\",overflowY:\"scroll\"},children:t&&t.map((function(e,t){return Object(c.jsxs)(\"li\",{className:\"list-unstyled\",children:[Object(c.jsx)(\"input\",{onChange:J(e._id),type:\"checkbox\",className:\"mr-2\"}),Object(c.jsx)(\"label\",{className:\"form-check-label\",children:e.name})]},t)}))})]}),Object(c.jsxs)(\"div\",{children:[Object(c.jsx)(\"h5\",{children:\"Tags\"}),Object(c.jsx)(\"hr\",{}),Object(c.jsx)(\"ul\",{style:{maxHeight:\"200px\",overflowY:\"scroll\"},children:b&&b.map((function(e,t){return Object(c.jsxs)(\"li\",{className:\"list-unstyled\",children:[Object(c.jsx)(\"input\",{onChange:U(e._id),type:\"checkbox\",className:\"mr-2\"}),Object(c.jsx)(\"label\",{className:\"form-check-label\",children:e.name})]},t)}))})]})]})]})})}}},[[\"SD2O\",1,0,2,3,6]]]);","map":{"version":3,"sources":["static/chunks/pages/user/crud/blog-bf9b15e53575316b860b.js"],"names":["_N_E","window","push","LZ8r","module","__webpack_exports__","__webpack_require__","d","Private","react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__","react__WEBPACK_IMPORTED_MODULE_1__","_auth__WEBPACK_IMPORTED_MODULE_2__","next_router__WEBPACK_IMPORTED_MODULE_3__","_ref","children","Object","role","SD2O","exports","__NEXT_P","bexL","r","_components_Layout__WEBPACK_IMPORTED_MODULE_2__","_components_crud_Blog__WEBPACK_IMPORTED_MODULE_4__","_actions_Private__WEBPACK_IMPORTED_MODULE_5__","className","fLEO","E_seoblog_frontend_node_modules_next_node_modules_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_1__","E_seoblog_frontend_node_modules_next_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_2__","react__WEBPACK_IMPORTED_MODULE_3__","_actions_blog__WEBPACK_IMPORTED_MODULE_5__","_actions_auth__WEBPACK_IMPORTED_MODULE_6__","next_router__WEBPACK_IMPORTED_MODULE_7__","next_router__WEBPACK_IMPORTED_MODULE_7___default","n","next_dynamic__WEBPACK_IMPORTED_MODULE_8__","next_dynamic__WEBPACK_IMPORTED_MODULE_8___default","_actions_tags__WEBPACK_IMPORTED_MODULE_10__","_actions_category__WEBPACK_IMPORTED_MODULE_11__","_helpers_quill__WEBPACK_IMPORTED_MODULE_12__","ownKeys","object","enumerableOnly","keys","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","enumerable","apply","_objectSpread","target","i","arguments","length","source","forEach","key","getOwnPropertyDescriptors","defineProperties","defineProperty","ReactQuill","Promise","all","e","then","t","bind","ssr","loadableGenerated","webpack","modules","_useState","categories","setCategories","_useState2","tags","setTags","_useState3","checked","setChecked","_useState4","checkedTag","setCheckedTag","_useState5","localStorage","getItem","JSON","parse","body","setBody","_useState6","error","sizeError","success","formData","title","hidePublishButton","values","setValues","token","FormData","initCategories","initTags","a","data","publishBlog","preventDefault","concat","handleChange","name","_objectSpread2","value","files","set","handleBody","setItem","stringify","handleToggle","c","clickedCategory","indexOf","splice","handleTagsToggle","clickedTag","console","log","onSubmit","type","onChange","theme","formats","placeholder","style","display","accept","hidden","maxHeight","overflowY","map","_id"],"mappings":"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"},"name":"static/chunks/pages/user/crud/blog-bf9b15e53575316b860b.js","input":"_N_E =\n(window[\"webpackJsonp_N_E\"] = window[\"webpackJsonp_N_E\"] || []).push([[29],{\n\n/***/ \"LZ8r\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return Private; });\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(\"nKUr\");\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(\"q1tI\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _auth__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(\"iuBY\");\n/* harmony import */ var next_router__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(\"20a2\");\n/* harmony import */ var next_router__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(next_router__WEBPACK_IMPORTED_MODULE_3__);\n\n\n\n\n\nvar Private = function Private(_ref) {\n  var children = _ref.children;\n  Object(react__WEBPACK_IMPORTED_MODULE_1__[\"useEffect\"])(function () {\n    if (!Object(_auth__WEBPACK_IMPORTED_MODULE_2__[/* isAuth */ \"d\"])() && Object(_auth__WEBPACK_IMPORTED_MODULE_2__[/* isAuth */ \"d\"])().role === 0) {\n      next_router__WEBPACK_IMPORTED_MODULE_3__[\"Router\"].push(\"/signin\");\n    }\n  }, []);\n  return /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__[\"Fragment\"], {\n    children: children\n  });\n};\n\n/***/ }),\n\n/***/ \"SD2O\":\n/***/ (function(module, exports, __webpack_require__) {\n\n\n    (window.__NEXT_P = window.__NEXT_P || []).push([\n      \"/user/crud/blog\",\n      function () {\n        return __webpack_require__(\"bexL\");\n      }\n    ]);\n  \n\n/***/ }),\n\n/***/ \"bexL\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(\"nKUr\");\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(\"q1tI\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _components_Layout__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(\"h7RS\");\n/* harmony import */ var _actions_Admin__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(\"69Wt\");\n/* harmony import */ var _components_crud_Blog__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(\"fLEO\");\n/* harmony import */ var _actions_Private__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(\"LZ8r\");\n\n\n\n\n\n\n\n\nfunction Blog() {\n  return /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(_components_Layout__WEBPACK_IMPORTED_MODULE_2__[/* Layout */ \"a\"], {\n    children: /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(_actions_Private__WEBPACK_IMPORTED_MODULE_5__[/* Private */ \"a\"], {\n      children: /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"div\", {\n        className: \"container\",\n        children: /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__[\"jsxs\"])(\"div\", {\n          className: \"row\",\n          children: [/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"div\", {\n            className: \"col-md-12 pt-4 pb-4\",\n            children: /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"h1\", {\n              children: \"Manage Blog\"\n            })\n          }), /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"div\", {\n            className: \"col-md-12\",\n            children: /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"li\", {\n              className: \"list-group-item\",\n              children: /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(_components_crud_Blog__WEBPACK_IMPORTED_MODULE_4__[/* default */ \"a\"], {})\n            })\n          })]\n        })\n      })\n    })\n  });\n}\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (Blog);\n\n/***/ }),\n\n/***/ \"fLEO\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(\"nKUr\");\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var E_seoblog_frontend_node_modules_next_node_modules_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(\"z7pX\");\n/* harmony import */ var E_seoblog_frontend_node_modules_next_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(\"cpVT\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(\"q1tI\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var next_link__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(\"YFqc\");\n/* harmony import */ var next_link__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(next_link__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var _actions_blog__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(\"zycw\");\n/* harmony import */ var _actions_auth__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(\"iuBY\");\n/* harmony import */ var next_router__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(\"20a2\");\n/* harmony import */ var next_router__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(next_router__WEBPACK_IMPORTED_MODULE_7__);\n/* harmony import */ var next_dynamic__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(\"Vvt1\");\n/* harmony import */ var next_dynamic__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(next_dynamic__WEBPACK_IMPORTED_MODULE_8__);\n/* harmony import */ var next_dist_client_with_router__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(\"0Bsm\");\n/* harmony import */ var next_dist_client_with_router__WEBPACK_IMPORTED_MODULE_9___default = /*#__PURE__*/__webpack_require__.n(next_dist_client_with_router__WEBPACK_IMPORTED_MODULE_9__);\n/* harmony import */ var _actions_tags__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(\"qTkD\");\n/* harmony import */ var _actions_category__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(\"abxw\");\n/* harmony import */ var _helpers_quill__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(\"//g3\");\n\n\n\n\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { Object(E_seoblog_frontend_node_modules_next_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_2__[/* default */ \"a\"])(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\n\n\n\n\n\n\n\n\n\n\nvar ReactQuill = next_dynamic__WEBPACK_IMPORTED_MODULE_8___default()(function () {\n  return Promise.all(/* import() */[__webpack_require__.e(0), __webpack_require__.e(7), __webpack_require__.e(8)]).then(__webpack_require__.t.bind(null, \"rmP6\", 7));\n}, {\n  ssr: false,\n  loadableGenerated: {\n    webpack: function webpack() {\n      return [/*require.resolve*/(\"rmP6\")];\n    },\n    modules: [\"react-quill\"]\n  }\n});\nvar token = Object(_actions_auth__WEBPACK_IMPORTED_MODULE_6__[/* getCookie */ \"b\"])(\"token\");\n\nvar CreateBlog = function CreateBlog() {\n  var blogFromLS = function blogFromLS() {\n    if (false) {}\n\n    if (localStorage.getItem('blog')) {\n      return JSON.parse(localStorage.getItem('blog'));\n    } else {\n      return false;\n    }\n  };\n\n  var _useState = Object(react__WEBPACK_IMPORTED_MODULE_3__[\"useState\"])([]),\n      categories = _useState[0],\n      setCategories = _useState[1];\n\n  var _useState2 = Object(react__WEBPACK_IMPORTED_MODULE_3__[\"useState\"])([]),\n      tags = _useState2[0],\n      setTags = _useState2[1];\n\n  var _useState3 = Object(react__WEBPACK_IMPORTED_MODULE_3__[\"useState\"])([]),\n      checked = _useState3[0],\n      setChecked = _useState3[1]; // categories\n\n\n  var _useState4 = Object(react__WEBPACK_IMPORTED_MODULE_3__[\"useState\"])([]),\n      checkedTag = _useState4[0],\n      setCheckedTag = _useState4[1]; // tags\n\n\n  var _useState5 = Object(react__WEBPACK_IMPORTED_MODULE_3__[\"useState\"])(blogFromLS()),\n      body = _useState5[0],\n      setBody = _useState5[1];\n\n  var _useState6 = Object(react__WEBPACK_IMPORTED_MODULE_3__[\"useState\"])({\n    error: '',\n    sizeError: '',\n    success: '',\n    formData: '',\n    title: '',\n    hidePublishButton: false\n  }),\n      values = _useState6[0],\n      setValues = _useState6[1];\n\n  var error = values.error,\n      sizeError = values.sizeError,\n      success = values.success,\n      formData = values.formData,\n      title = values.title,\n      hidePublishButton = values.hidePublishButton;\n  var token = Object(_actions_auth__WEBPACK_IMPORTED_MODULE_6__[/* getCookie */ \"b\"])('token');\n  Object(react__WEBPACK_IMPORTED_MODULE_3__[\"useEffect\"])(function () {\n    setValues(_objectSpread(_objectSpread({}, values), {}, {\n      formData: new FormData()\n    }));\n    initCategories();\n    initTags();\n  }, [next_router__WEBPACK_IMPORTED_MODULE_7___default.a]);\n\n  var initCategories = function initCategories() {\n    Object(_actions_category__WEBPACK_IMPORTED_MODULE_11__[/* getAllCategories */ \"c\"])().then(function (data) {\n      if (data.error) {\n        setValues(_objectSpread(_objectSpread({}, values), {}, {\n          error: data.error\n        }));\n      } else {\n        setCategories(data);\n      }\n    });\n  };\n\n  var initTags = function initTags() {\n    Object(_actions_tags__WEBPACK_IMPORTED_MODULE_10__[/* getAllTags */ \"c\"])().then(function (data) {\n      if (data.error) {\n        setValues(_objectSpread(_objectSpread({}, values), {}, {\n          error: data.error\n        }));\n      } else {\n        setTags(data);\n      }\n    });\n  };\n\n  var publishBlog = function publishBlog(e) {\n    e.preventDefault(); // console.log('ready to publishBlog');\n\n    Object(_actions_blog__WEBPACK_IMPORTED_MODULE_5__[/* createBlog */ \"a\"])(formData, token).then(function (data) {\n      if (data.error) {\n        setValues(_objectSpread(_objectSpread({}, values), {}, {\n          error: data.error\n        }));\n      } else {\n        setValues(_objectSpread(_objectSpread({}, values), {}, {\n          title: '',\n          error: '',\n          success: \"A new blog titled \\\"\".concat(data.title, \"\\\" is created\")\n        }));\n        setBody('');\n        setCategories([]);\n        setTags([]);\n      }\n    });\n  };\n\n  var handleChange = function handleChange(name) {\n    return function (e) {\n      var _objectSpread2;\n\n      // console.log(e.target.value);\n      var value = name === 'photo' ? e.target.files[0] : e.target.value;\n      formData.set(name, value);\n      setValues(_objectSpread(_objectSpread({}, values), {}, (_objectSpread2 = {}, Object(E_seoblog_frontend_node_modules_next_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_2__[/* default */ \"a\"])(_objectSpread2, name, value), Object(E_seoblog_frontend_node_modules_next_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_2__[/* default */ \"a\"])(_objectSpread2, \"formData\", formData), Object(E_seoblog_frontend_node_modules_next_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_2__[/* default */ \"a\"])(_objectSpread2, \"error\", ''), _objectSpread2)));\n    };\n  };\n\n  var handleBody = function handleBody(e) {\n    // console.log(e);\n    setBody(e);\n    formData.set('body', e);\n\n    if (true) {\n      localStorage.setItem('blog', JSON.stringify(e));\n    }\n  };\n\n  var handleToggle = function handleToggle(c) {\n    return function () {\n      setValues(_objectSpread(_objectSpread({}, values), {}, {\n        error: ''\n      })); // return the first index or -1\n\n      var clickedCategory = checked.indexOf(c);\n\n      var all = Object(E_seoblog_frontend_node_modules_next_node_modules_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_1__[/* default */ \"a\"])(checked);\n\n      if (clickedCategory === -1) {\n        all.push(c);\n      } else {\n        all.splice(clickedCategory, 1);\n      }\n\n      setChecked(all);\n      formData.set('categories', all);\n    };\n  };\n\n  var handleTagsToggle = function handleTagsToggle(t) {\n    return function () {\n      setValues(_objectSpread(_objectSpread({}, values), {}, {\n        error: ''\n      })); // return the first index or -1\n\n      var clickedTag = checked.indexOf(t);\n\n      var all = Object(E_seoblog_frontend_node_modules_next_node_modules_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_1__[/* default */ \"a\"])(checkedTag);\n\n      if (clickedTag === -1) {\n        all.push(t);\n      } else {\n        all.splice(clickedTag, 1);\n      }\n\n      console.log(all);\n      setCheckedTag(all);\n      formData.set('tags', all);\n    };\n  };\n\n  var showCategories = function showCategories() {\n    return categories && categories.map(function (c, i) {\n      return /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__[\"jsxs\"])(\"li\", {\n        className: \"list-unstyled\",\n        children: [/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"input\", {\n          onChange: handleToggle(c._id),\n          type: \"checkbox\",\n          className: \"mr-2\"\n        }), /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"label\", {\n          className: \"form-check-label\",\n          children: c.name\n        })]\n      }, i);\n    });\n  };\n\n  var showTags = function showTags() {\n    return tags && tags.map(function (t, i) {\n      return /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__[\"jsxs\"])(\"li\", {\n        className: \"list-unstyled\",\n        children: [/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"input\", {\n          onChange: handleTagsToggle(t._id),\n          type: \"checkbox\",\n          className: \"mr-2\"\n        }), /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"label\", {\n          className: \"form-check-label\",\n          children: t.name\n        })]\n      }, i);\n    });\n  };\n\n  var showError = function showError() {\n    return /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"div\", {\n      className: \"alert alert-danger\",\n      style: {\n        display: error ? '' : 'none'\n      },\n      children: error\n    });\n  };\n\n  var showSuccess = function showSuccess() {\n    return /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"div\", {\n      className: \"alert alert-success\",\n      style: {\n        display: success ? '' : 'none'\n      },\n      children: success\n    });\n  };\n\n  var createBlogForm = function createBlogForm() {\n    return /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__[\"jsxs\"])(\"form\", {\n      onSubmit: publishBlog,\n      children: [/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__[\"jsxs\"])(\"div\", {\n        className: \"form-group\",\n        children: [/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"label\", {\n          className: \"text-muted\",\n          children: \"Title\"\n        }), /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"input\", {\n          type: \"text\",\n          className: \"form-control\",\n          value: title,\n          onChange: handleChange('title')\n        })]\n      }), /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"div\", {\n        className: \"form-group\",\n        children: /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(ReactQuill, {\n          theme: \"snow\",\n          modules: _helpers_quill__WEBPACK_IMPORTED_MODULE_12__[/* QuillModules */ \"b\"],\n          formats: _helpers_quill__WEBPACK_IMPORTED_MODULE_12__[/* QuillFormats */ \"a\"],\n          value: body,\n          placeholder: \"Write something amazing...\",\n          onChange: handleBody\n        })\n      }), /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"div\", {\n        children: /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"button\", {\n          type: \"submit\",\n          className: \"btn btn-primary\",\n          children: \"Publish\"\n        })\n      })]\n    });\n  };\n\n  return /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"div\", {\n    className: \"container-fluid pb-5\",\n    children: /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__[\"jsxs\"])(\"div\", {\n      className: \"row\",\n      children: [/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__[\"jsxs\"])(\"div\", {\n        className: \"col-md-8\",\n        children: [createBlogForm(), /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__[\"jsxs\"])(\"div\", {\n          className: \"pt-3\",\n          children: [showError(), showSuccess()]\n        })]\n      }), /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__[\"jsxs\"])(\"div\", {\n        className: \"col-md-4\",\n        children: [/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"div\", {\n          children: /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__[\"jsxs\"])(\"div\", {\n            className: \"form-group pb-2\",\n            children: [/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"h5\", {\n              children: \"Featured image\"\n            }), /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"hr\", {}), /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"small\", {\n              className: \"text-muted\",\n              children: \"Max size: 1mb\"\n            }), /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"br\", {}), /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__[\"jsxs\"])(\"label\", {\n              className: \"btn btn-outline-info\",\n              children: [\"Upload featured image\", /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"input\", {\n                onChange: handleChange('photo'),\n                type: \"file\",\n                accept: \"image/*\",\n                hidden: true\n              })]\n            })]\n          })\n        }), /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__[\"jsxs\"])(\"div\", {\n          children: [/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"h5\", {\n            children: \"Categories\"\n          }), /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"hr\", {}), /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"ul\", {\n            style: {\n              maxHeight: '200px',\n              overflowY: 'scroll'\n            },\n            children: showCategories()\n          })]\n        }), /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__[\"jsxs\"])(\"div\", {\n          children: [/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"h5\", {\n            children: \"Tags\"\n          }), /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"hr\", {}), /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"ul\", {\n            style: {\n              maxHeight: '200px',\n              overflowY: 'scroll'\n            },\n            children: showTags()\n          })]\n        })]\n      })]\n    })\n  });\n};\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (CreateBlog);\n\n/***/ })\n\n},[[\"SD2O\",1,0,2,3,6]]]);","inputSourceMap":{"version":3,"sources":["E:\\seoblog\\frontend\\node_modules\\next\\dist\\build\\webpack\\loaders\\next-babel-loader.js??ref--4!E:\\seoblog\\frontend\\actions\\Private.js","E:\\seoblog\\frontend\\node_modules\\next\\dist\\build\\webpack\\loaders\\next-client-pages-loader.js?page=%2Fuser%2Fcrud%2Fblog&absolutePagePath=private-next-pages%2Fuser%2Fcrud%2Fblog.js!","E:\\seoblog\\frontend\\node_modules\\next\\dist\\build\\webpack\\loaders\\next-babel-loader.js??ref--4!E:\\seoblog\\frontend\\pages\\user\\crud\\blog.js","E:\\seoblog\\frontend\\node_modules\\next\\dist\\build\\webpack\\loaders\\next-babel-loader.js??ref--4!E:\\seoblog\\frontend\\components\\crud\\Blog.js"],"names":[],"mappings":"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","file":"x","sourcesContent":["import { jsx as _jsx } from \"react/jsx-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-runtime\";\nimport { useEffect } from \"react\";\nimport { isAuth } from \"./auth\";\nimport { Router } from \"next/router\";\nexport var Private = function Private(_ref) {\n  var children = _ref.children;\n  useEffect(function () {\n    if (!isAuth() && isAuth().role === 0) {\n      Router.push(\"/signin\");\n    }\n  }, []);\n  return /*#__PURE__*/_jsx(_Fragment, {\n    children: children\n  });\n};","\n    (window.__NEXT_P = window.__NEXT_P || []).push([\n      \"/user/crud/blog\",\n      function () {\n        return require(\"private-next-pages/user/crud/blog.js\");\n      }\n    ]);\n  ","import { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport React from \"react\";\nimport { Layout } from \"../../../components/Layout\";\nimport { Admin } from \"../../../actions/Admin\";\nimport CreateBlog from \"../../../components/crud/Blog\";\nimport { Private } from \"../../../actions/Private\";\n\nfunction Blog() {\n  return /*#__PURE__*/_jsx(Layout, {\n    children: /*#__PURE__*/_jsx(Private, {\n      children: /*#__PURE__*/_jsx(\"div\", {\n        className: \"container\",\n        children: /*#__PURE__*/_jsxs(\"div\", {\n          className: \"row\",\n          children: [/*#__PURE__*/_jsx(\"div\", {\n            className: \"col-md-12 pt-4 pb-4\",\n            children: /*#__PURE__*/_jsx(\"h1\", {\n              children: \"Manage Blog\"\n            })\n          }), /*#__PURE__*/_jsx(\"div\", {\n            className: \"col-md-12\",\n            children: /*#__PURE__*/_jsx(\"li\", {\n              className: \"list-group-item\",\n              children: /*#__PURE__*/_jsx(CreateBlog, {})\n            })\n          })]\n        })\n      })\n    })\n  });\n}\n\nexport default Blog;","import { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport _toConsumableArray from \"E:/seoblog/frontend/node_modules/next/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\nimport _defineProperty from \"E:/seoblog/frontend/node_modules/next/node_modules/@babel/runtime/helpers/esm/defineProperty\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport React, { useState, useEffect } from \"react\";\nimport Link from \"next/link\";\nimport { createBlog } from \"../../actions/blog\";\nimport { isAuth, getCookie } from \"../../actions/auth\";\nimport router from \"next/router\";\nimport dynamic from 'next/dynamic';\nimport withRouter from \"next/dist/client/with-router\";\nimport { getAllTags } from \"../../actions/tags\";\nimport { getAllCategories } from \"../../actions/category\";\nimport { QuillModules, QuillFormats } from \"../../helpers/quill\";\nvar ReactQuill = dynamic(function () {\n  return import(\"react-quill\");\n}, {\n  ssr: false,\n  loadableGenerated: {\n    webpack: function webpack() {\n      return [require.resolveWeak(\"react-quill\")];\n    },\n    modules: [\"react-quill\"]\n  }\n});\nvar token = getCookie(\"token\");\n\nvar CreateBlog = function CreateBlog() {\n  var blogFromLS = function blogFromLS() {\n    if (false) {\n      return false;\n    }\n\n    if (localStorage.getItem('blog')) {\n      return JSON.parse(localStorage.getItem('blog'));\n    } else {\n      return false;\n    }\n  };\n\n  var _useState = useState([]),\n      categories = _useState[0],\n      setCategories = _useState[1];\n\n  var _useState2 = useState([]),\n      tags = _useState2[0],\n      setTags = _useState2[1];\n\n  var _useState3 = useState([]),\n      checked = _useState3[0],\n      setChecked = _useState3[1]; // categories\n\n\n  var _useState4 = useState([]),\n      checkedTag = _useState4[0],\n      setCheckedTag = _useState4[1]; // tags\n\n\n  var _useState5 = useState(blogFromLS()),\n      body = _useState5[0],\n      setBody = _useState5[1];\n\n  var _useState6 = useState({\n    error: '',\n    sizeError: '',\n    success: '',\n    formData: '',\n    title: '',\n    hidePublishButton: false\n  }),\n      values = _useState6[0],\n      setValues = _useState6[1];\n\n  var error = values.error,\n      sizeError = values.sizeError,\n      success = values.success,\n      formData = values.formData,\n      title = values.title,\n      hidePublishButton = values.hidePublishButton;\n  var token = getCookie('token');\n  useEffect(function () {\n    setValues(_objectSpread(_objectSpread({}, values), {}, {\n      formData: new FormData()\n    }));\n    initCategories();\n    initTags();\n  }, [router]);\n\n  var initCategories = function initCategories() {\n    getAllCategories().then(function (data) {\n      if (data.error) {\n        setValues(_objectSpread(_objectSpread({}, values), {}, {\n          error: data.error\n        }));\n      } else {\n        setCategories(data);\n      }\n    });\n  };\n\n  var initTags = function initTags() {\n    getAllTags().then(function (data) {\n      if (data.error) {\n        setValues(_objectSpread(_objectSpread({}, values), {}, {\n          error: data.error\n        }));\n      } else {\n        setTags(data);\n      }\n    });\n  };\n\n  var publishBlog = function publishBlog(e) {\n    e.preventDefault(); // console.log('ready to publishBlog');\n\n    createBlog(formData, token).then(function (data) {\n      if (data.error) {\n        setValues(_objectSpread(_objectSpread({}, values), {}, {\n          error: data.error\n        }));\n      } else {\n        setValues(_objectSpread(_objectSpread({}, values), {}, {\n          title: '',\n          error: '',\n          success: \"A new blog titled \\\"\".concat(data.title, \"\\\" is created\")\n        }));\n        setBody('');\n        setCategories([]);\n        setTags([]);\n      }\n    });\n  };\n\n  var handleChange = function handleChange(name) {\n    return function (e) {\n      var _objectSpread2;\n\n      // console.log(e.target.value);\n      var value = name === 'photo' ? e.target.files[0] : e.target.value;\n      formData.set(name, value);\n      setValues(_objectSpread(_objectSpread({}, values), {}, (_objectSpread2 = {}, _defineProperty(_objectSpread2, name, value), _defineProperty(_objectSpread2, \"formData\", formData), _defineProperty(_objectSpread2, \"error\", ''), _objectSpread2)));\n    };\n  };\n\n  var handleBody = function handleBody(e) {\n    // console.log(e);\n    setBody(e);\n    formData.set('body', e);\n\n    if (true) {\n      localStorage.setItem('blog', JSON.stringify(e));\n    }\n  };\n\n  var handleToggle = function handleToggle(c) {\n    return function () {\n      setValues(_objectSpread(_objectSpread({}, values), {}, {\n        error: ''\n      })); // return the first index or -1\n\n      var clickedCategory = checked.indexOf(c);\n\n      var all = _toConsumableArray(checked);\n\n      if (clickedCategory === -1) {\n        all.push(c);\n      } else {\n        all.splice(clickedCategory, 1);\n      }\n\n      setChecked(all);\n      formData.set('categories', all);\n    };\n  };\n\n  var handleTagsToggle = function handleTagsToggle(t) {\n    return function () {\n      setValues(_objectSpread(_objectSpread({}, values), {}, {\n        error: ''\n      })); // return the first index or -1\n\n      var clickedTag = checked.indexOf(t);\n\n      var all = _toConsumableArray(checkedTag);\n\n      if (clickedTag === -1) {\n        all.push(t);\n      } else {\n        all.splice(clickedTag, 1);\n      }\n\n      console.log(all);\n      setCheckedTag(all);\n      formData.set('tags', all);\n    };\n  };\n\n  var showCategories = function showCategories() {\n    return categories && categories.map(function (c, i) {\n      return /*#__PURE__*/_jsxs(\"li\", {\n        className: \"list-unstyled\",\n        children: [/*#__PURE__*/_jsx(\"input\", {\n          onChange: handleToggle(c._id),\n          type: \"checkbox\",\n          className: \"mr-2\"\n        }), /*#__PURE__*/_jsx(\"label\", {\n          className: \"form-check-label\",\n          children: c.name\n        })]\n      }, i);\n    });\n  };\n\n  var showTags = function showTags() {\n    return tags && tags.map(function (t, i) {\n      return /*#__PURE__*/_jsxs(\"li\", {\n        className: \"list-unstyled\",\n        children: [/*#__PURE__*/_jsx(\"input\", {\n          onChange: handleTagsToggle(t._id),\n          type: \"checkbox\",\n          className: \"mr-2\"\n        }), /*#__PURE__*/_jsx(\"label\", {\n          className: \"form-check-label\",\n          children: t.name\n        })]\n      }, i);\n    });\n  };\n\n  var showError = function showError() {\n    return /*#__PURE__*/_jsx(\"div\", {\n      className: \"alert alert-danger\",\n      style: {\n        display: error ? '' : 'none'\n      },\n      children: error\n    });\n  };\n\n  var showSuccess = function showSuccess() {\n    return /*#__PURE__*/_jsx(\"div\", {\n      className: \"alert alert-success\",\n      style: {\n        display: success ? '' : 'none'\n      },\n      children: success\n    });\n  };\n\n  var createBlogForm = function createBlogForm() {\n    return /*#__PURE__*/_jsxs(\"form\", {\n      onSubmit: publishBlog,\n      children: [/*#__PURE__*/_jsxs(\"div\", {\n        className: \"form-group\",\n        children: [/*#__PURE__*/_jsx(\"label\", {\n          className: \"text-muted\",\n          children: \"Title\"\n        }), /*#__PURE__*/_jsx(\"input\", {\n          type: \"text\",\n          className: \"form-control\",\n          value: title,\n          onChange: handleChange('title')\n        })]\n      }), /*#__PURE__*/_jsx(\"div\", {\n        className: \"form-group\",\n        children: /*#__PURE__*/_jsx(ReactQuill, {\n          theme: \"snow\",\n          modules: QuillModules,\n          formats: QuillFormats,\n          value: body,\n          placeholder: \"Write something amazing...\",\n          onChange: handleBody\n        })\n      }), /*#__PURE__*/_jsx(\"div\", {\n        children: /*#__PURE__*/_jsx(\"button\", {\n          type: \"submit\",\n          className: \"btn btn-primary\",\n          children: \"Publish\"\n        })\n      })]\n    });\n  };\n\n  return /*#__PURE__*/_jsx(\"div\", {\n    className: \"container-fluid pb-5\",\n    children: /*#__PURE__*/_jsxs(\"div\", {\n      className: \"row\",\n      children: [/*#__PURE__*/_jsxs(\"div\", {\n        className: \"col-md-8\",\n        children: [createBlogForm(), /*#__PURE__*/_jsxs(\"div\", {\n          className: \"pt-3\",\n          children: [showError(), showSuccess()]\n        })]\n      }), /*#__PURE__*/_jsxs(\"div\", {\n        className: \"col-md-4\",\n        children: [/*#__PURE__*/_jsx(\"div\", {\n          children: /*#__PURE__*/_jsxs(\"div\", {\n            className: \"form-group pb-2\",\n            children: [/*#__PURE__*/_jsx(\"h5\", {\n              children: \"Featured image\"\n            }), /*#__PURE__*/_jsx(\"hr\", {}), /*#__PURE__*/_jsx(\"small\", {\n              className: \"text-muted\",\n              children: \"Max size: 1mb\"\n            }), /*#__PURE__*/_jsx(\"br\", {}), /*#__PURE__*/_jsxs(\"label\", {\n              className: \"btn btn-outline-info\",\n              children: [\"Upload featured image\", /*#__PURE__*/_jsx(\"input\", {\n                onChange: handleChange('photo'),\n                type: \"file\",\n                accept: \"image/*\",\n                hidden: true\n              })]\n            })]\n          })\n        }), /*#__PURE__*/_jsxs(\"div\", {\n          children: [/*#__PURE__*/_jsx(\"h5\", {\n            children: \"Categories\"\n          }), /*#__PURE__*/_jsx(\"hr\", {}), /*#__PURE__*/_jsx(\"ul\", {\n            style: {\n              maxHeight: '200px',\n              overflowY: 'scroll'\n            },\n            children: showCategories()\n          })]\n        }), /*#__PURE__*/_jsxs(\"div\", {\n          children: [/*#__PURE__*/_jsx(\"h5\", {\n            children: \"Tags\"\n          }), /*#__PURE__*/_jsx(\"hr\", {}), /*#__PURE__*/_jsx(\"ul\", {\n            style: {\n              maxHeight: '200px',\n              overflowY: 'scroll'\n            },\n            children: showTags()\n          })]\n        })]\n      })]\n    })\n  });\n};\n\nexport default CreateBlog;"]}}