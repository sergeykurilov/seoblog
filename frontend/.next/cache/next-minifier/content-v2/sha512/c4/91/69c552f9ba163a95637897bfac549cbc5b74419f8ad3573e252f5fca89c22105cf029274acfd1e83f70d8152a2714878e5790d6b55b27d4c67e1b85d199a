{"code":"_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[16],{\"69Wt\":function(e,t,n){\"use strict\";n.d(t,\"a\",(function(){return i}));var r=n(\"nKUr\"),c=n(\"q1tI\"),o=n(\"iuBY\"),s=n(\"20a2\"),a=n.n(s),i=function(e){var t=e.children;return Object(c.useEffect)((function(){Object(o.d)()?1!==Object(o.d)().role&&a.a.push(\"/\"):a.a.push(\"/signin\")}),[]),Object(r.jsx)(r.Fragment,{children:t})}},DGhE:function(e,t,n){\"use strict\";var r=n(\"nKUr\"),c=n(\"cpVT\"),o=n(\"q1tI\"),s=n(\"abxw\"),a=n(\"iuBY\");n(\"20a2\");function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){Object(c.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}t.a=function(){var e=Object(o.useState)({name:\"\",error:!1,categories:[],success:!1,removed:!1,reload:!1}),t=e[0],n=e[1],c=t.name,i=t.success,l=t.error,j=t.removed,d=t.categories,b=t.reload,f=Object(a.b)(\"token\");Object(o.useEffect)((function(){Object(s.c)().then((function(e){e.error?n(u(u({},t),{},{error:e.error,success:!1})):n(u(u({},t),{},{categories:e}))}))}),[b]);var h=function(e){window.confirm(\"Are you sure that you want to delete this category?\")&&function(e){console.log(\"delete\",e),Object(s.b)(e,f).then((function(e){console.log(e),e.error?n(u(u({},t),{},{error:e.error})):n(u(u({},t),{},{error:!1,success:!1,reload:!b,removed:!0}))}))}(e)};var m=function(e){n(u(u({},t),{},{name:e.currentTarget.value,success:!1,removed:!1,error:!1}))},O=function(e){console.log(\"create category = \",c),e.preventDefault(),Object(s.a)({name:c},f).then((function(e){e.error?n(u(u({},t),{},{error:e.error,success:!1})):n(u(u({},t),{},{error:!1,success:!0,reload:!b,removed:!1,name:\"\"}))}))};return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsxs)(\"div\",{onMouseMove:function(){n(u(u({},t),{},{error:!1,success:!1,removed:!1}))},children:[function(){if(j)return Object(r.jsx)(\"p\",{className:\"text-danger\",children:\"Category successfully removed.\"})}(),function(){if(l)return Object(r.jsx)(\"p\",{className:\"text-danger\",children:\"Category already exist!\"})}(),function(){if(i)return Object(r.jsx)(\"p\",{className:\"text-success\",children:\"Category successfully created.\"})}()]}),Object(r.jsxs)(\"form\",{onSubmit:O,children:[Object(r.jsx)(\"label\",{className:\"text-muted\",children:\"Create Category\"}),Object(r.jsx)(\"input\",{type:\"text\",onChange:m,className:\"form-control\",value:c}),Object(r.jsx)(\"div\",{className:\"pt-2\",children:Object(r.jsx)(\"button\",{className:\"btn btn-primary\",children:\"Submit\"})})]}),d.map((function(e,t){return Object(r.jsx)(\"button\",{onDoubleClick:function(){return h(e.slug)},title:\"Double click to delete\",className:\"btn btn-outline-primary mr-1 ml-1 mt-3\",children:e.name},t)}))]})}},abxw:function(e,t,n){\"use strict\";n.d(t,\"a\",(function(){return a})),n.d(t,\"c\",(function(){return i})),n.d(t,\"d\",(function(){return u})),n.d(t,\"b\",(function(){return l}));var r=n(\"obyI\"),c=n(\"LpSC\"),o=n.n(c),s=(n(\"p46w\"),n(\"iuBY\")),a=function(e,t){return o()(\"\".concat(r.a,\"/category\"),{method:\"POST\",headers:{Accept:\"application/json\",\"Content-Type\":\"application/json\",Authorization:\"Bearer \".concat(t)},body:JSON.stringify(e)}).then((function(e){return Object(s.c)(e),e.json()})).catch((function(e){return console.log(e)}))},i=function(){return o()(\"\".concat(r.a,\"/categories\"),{method:\"GET\"}).then((function(e){return e.json()})).catch((function(e){return console.log(e)}))},u=function(e){return o()(\"\".concat(r.a,\"/category/\").concat(e),{method:\"GET\"}).then((function(e){return console.log(e),e.json()})).catch((function(e){return console.log(e)}))},l=function(e,t){return o()(\"\".concat(r.a,\"/category/\").concat(e),{method:\"DELETE\",headers:{Accept:\"application/json\",\"Content-Type\":\"application/json\",Authorization:\"Bearer \".concat(t)}}).then((function(e){return Object(s.c)(e),e.json()})).catch((function(e){return console.log(e)}))}},tmR1:function(e,t,n){\"use strict\";n.r(t);var r=n(\"nKUr\"),c=(n(\"q1tI\"),n(\"h7RS\")),o=n(\"69Wt\"),s=(n(\"YFqc\"),n(\"DGhE\"));t.default=function(){return Object(r.jsx)(c.a,{children:Object(r.jsx)(o.a,{children:Object(r.jsx)(\"div\",{className:\"container\",children:Object(r.jsxs)(\"div\",{className:\"row\",children:[Object(r.jsx)(\"div\",{className:\"col-md-12 pt-4 pb-4\",children:Object(r.jsx)(\"h1\",{children:\"Manage Categories\"})}),Object(r.jsx)(\"div\",{className:\"col-md-6\",children:Object(r.jsx)(\"li\",{className:\"list-group-item\",children:Object(r.jsx)(s.a,{})})})]})})})})}},yMgh:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push([\"/admin/crud/category\",function(){return n(\"tmR1\")}])}},[[\"yMgh\",1,0,2,3]]]);","map":{"version":3,"sources":["static/chunks/pages/admin/crud/category-deed1969c3bb23066510.js"],"names":["_N_E","window","push","69Wt","module","__webpack_exports__","__webpack_require__","d","Admin","react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__","react__WEBPACK_IMPORTED_MODULE_1__","_auth__WEBPACK_IMPORTED_MODULE_2__","next_router__WEBPACK_IMPORTED_MODULE_3__","next_router__WEBPACK_IMPORTED_MODULE_3___default","n","_ref","children","Object","role","a","DGhE","E_seoblog_frontend_node_modules_next_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_1__","react__WEBPACK_IMPORTED_MODULE_2__","_actions_category__WEBPACK_IMPORTED_MODULE_3__","_actions_auth__WEBPACK_IMPORTED_MODULE_4__","ownKeys","object","enumerableOnly","keys","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","enumerable","apply","_objectSpread","target","i","arguments","length","source","forEach","key","getOwnPropertyDescriptors","defineProperties","defineProperty","_useState","name","error","categories","success","removed","reload","value","setValue","token","then","data","DeleteConfirm","slug","confirm","console","log","DeleteCategory","handleChange","e","currentTarget","onSubmit","preventDefault","res","onMouseMove","className","showRemoved","showError","showSuccess","type","onChange","map","c","onDoubleClick","title","abxw","create","getAllCategories","getOneCategory","deleteCategory","_config__WEBPACK_IMPORTED_MODULE_0__","isomorphic_fetch__WEBPACK_IMPORTED_MODULE_1__","isomorphic_fetch__WEBPACK_IMPORTED_MODULE_1___default","_auth__WEBPACK_IMPORTED_MODULE_3__","category","concat","method","headers","Accept","Content-Type","Authorization","body","JSON","stringify","response","json","err","tmR1","r","_components_Layout__WEBPACK_IMPORTED_MODULE_2__","_actions_Admin__WEBPACK_IMPORTED_MODULE_3__","_components_crud_Category__WEBPACK_IMPORTED_MODULE_5__","yMgh","exports","__NEXT_P"],"mappings":"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"},"name":"static/chunks/pages/admin/crud/category-deed1969c3bb23066510.js","input":"_N_E =\n(window[\"webpackJsonp_N_E\"] = window[\"webpackJsonp_N_E\"] || []).push([[16],{\n\n/***/ \"69Wt\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return Admin; });\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(\"nKUr\");\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(\"q1tI\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _auth__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(\"iuBY\");\n/* harmony import */ var next_router__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(\"20a2\");\n/* harmony import */ var next_router__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(next_router__WEBPACK_IMPORTED_MODULE_3__);\n\n\n\n\n\nvar Admin = function Admin(_ref) {\n  var children = _ref.children;\n  Object(react__WEBPACK_IMPORTED_MODULE_1__[\"useEffect\"])(function () {\n    if (!Object(_auth__WEBPACK_IMPORTED_MODULE_2__[/* isAuth */ \"d\"])()) {\n      next_router__WEBPACK_IMPORTED_MODULE_3___default.a.push(\"/signin\");\n    } else if (Object(_auth__WEBPACK_IMPORTED_MODULE_2__[/* isAuth */ \"d\"])().role !== 1) {\n      next_router__WEBPACK_IMPORTED_MODULE_3___default.a.push(\"/\");\n    }\n  }, []);\n  return /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__[\"Fragment\"], {\n    children: children\n  });\n};\n\n/***/ }),\n\n/***/ \"DGhE\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(\"nKUr\");\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var E_seoblog_frontend_node_modules_next_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(\"cpVT\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(\"q1tI\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _actions_category__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(\"abxw\");\n/* harmony import */ var _actions_auth__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(\"iuBY\");\n/* harmony import */ var next_router__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(\"20a2\");\n/* harmony import */ var next_router__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(next_router__WEBPACK_IMPORTED_MODULE_5__);\n\n\n\n\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { Object(E_seoblog_frontend_node_modules_next_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_1__[/* default */ \"a\"])(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\n\n\n\n\n\nvar Category = function Category() {\n  var _useState = Object(react__WEBPACK_IMPORTED_MODULE_2__[\"useState\"])({\n    \"name\": \"\",\n    \"error\": false,\n    \"categories\": [],\n    \"success\": false,\n    \"removed\": false,\n    \"reload\": false\n  }),\n      value = _useState[0],\n      setValue = _useState[1];\n\n  var name = value.name,\n      success = value.success,\n      error = value.error,\n      removed = value.removed,\n      categories = value.categories,\n      reload = value.reload;\n  var token = Object(_actions_auth__WEBPACK_IMPORTED_MODULE_4__[/* getCookie */ \"b\"])(\"token\");\n\n  var AllCategories = function AllCategories() {\n    Object(_actions_category__WEBPACK_IMPORTED_MODULE_3__[/* getAllCategories */ \"c\"])().then(function (data) {\n      if (data.error) {\n        setValue(_objectSpread(_objectSpread({}, value), {}, {\n          error: data.error,\n          success: false\n        }));\n      } else {\n        setValue(_objectSpread(_objectSpread({}, value), {}, {\n          categories: data\n        }));\n      }\n    });\n  };\n\n  Object(react__WEBPACK_IMPORTED_MODULE_2__[\"useEffect\"])(function () {\n    AllCategories();\n  }, [reload]);\n\n  var DeleteCategory = function DeleteCategory(slug) {\n    console.log(\"delete\", slug);\n    Object(_actions_category__WEBPACK_IMPORTED_MODULE_3__[/* deleteCategory */ \"b\"])(slug, token).then(function (data) {\n      console.log(data);\n\n      if (data.error) {\n        setValue(_objectSpread(_objectSpread({}, value), {}, {\n          error: data.error\n        }));\n      } else {\n        setValue(_objectSpread(_objectSpread({}, value), {}, {\n          error: false,\n          success: false,\n          reload: !reload,\n          removed: true\n        }));\n      }\n    });\n  };\n\n  var DeleteConfirm = function DeleteConfirm(slug) {\n    var answer = window.confirm(\"Are you sure that you want to delete this category?\");\n\n    if (answer) {\n      DeleteCategory(slug);\n    }\n  };\n\n  function CategoryBlock() {\n    return categories.map(function (c, i) {\n      return /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"button\", {\n        onDoubleClick: function onDoubleClick() {\n          return DeleteConfirm(c.slug);\n        },\n        title: \"Double click to delete\",\n        className: \"btn btn-outline-primary mr-1 ml-1 mt-3\",\n        children: c.name\n      }, i);\n    });\n  }\n\n  var handleChange = function handleChange(e) {\n    setValue(_objectSpread(_objectSpread({}, value), {}, {\n      name: e.currentTarget.value,\n      success: false,\n      removed: false,\n      error: false\n    }));\n  };\n\n  var onSubmit = function onSubmit(e) {\n    console.log(\"create category = \", name);\n    e.preventDefault();\n    Object(_actions_category__WEBPACK_IMPORTED_MODULE_3__[/* create */ \"a\"])({\n      name: name\n    }, token).then(function (res) {\n      if (res.error) {\n        setValue(_objectSpread(_objectSpread({}, value), {}, {\n          error: res.error,\n          success: false\n        }));\n      } else {\n        setValue(_objectSpread(_objectSpread({}, value), {}, {\n          error: false,\n          success: true,\n          reload: !reload,\n          removed: false,\n          name: \"\"\n        }));\n      }\n    });\n  };\n\n  var showSuccess = function showSuccess() {\n    if (success) {\n      return /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"p\", {\n        className: \"text-success\",\n        children: \"Category successfully created.\"\n      });\n    }\n  };\n\n  var showError = function showError() {\n    if (error) {\n      return /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"p\", {\n        className: \"text-danger\",\n        children: \"Category already exist!\"\n      });\n    }\n  };\n\n  var showRemoved = function showRemoved() {\n    if (removed) {\n      return /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"p\", {\n        className: \"text-danger\",\n        children: \"Category successfully removed.\"\n      });\n    }\n  };\n\n  var CategoryForm = function CategoryForm() {\n    return /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__[\"jsxs\"])(\"form\", {\n      onSubmit: onSubmit,\n      children: [/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"label\", {\n        className: \"text-muted\",\n        children: \"Create Category\"\n      }), /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"input\", {\n        type: \"text\",\n        onChange: handleChange,\n        className: \"form-control\",\n        value: name\n      }), /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"div\", {\n        className: \"pt-2\",\n        children: /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"button\", {\n          className: \"btn btn-primary\",\n          children: \"Submit\"\n        })\n      })]\n    });\n  };\n\n  var mouseHandler = function mouseHandler() {\n    setValue(_objectSpread(_objectSpread({}, value), {}, {\n      error: false,\n      success: false,\n      removed: false\n    }));\n  };\n\n  return /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__[\"jsxs\"])(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__[\"Fragment\"], {\n    children: [/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__[\"jsxs\"])(\"div\", {\n      onMouseMove: mouseHandler,\n      children: [showRemoved(), showError(), showSuccess()]\n    }), CategoryForm(), CategoryBlock()]\n  });\n};\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (Category);\n\n/***/ }),\n\n/***/ \"abxw\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return create; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"c\", function() { return getAllCategories; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"d\", function() { return getOneCategory; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"b\", function() { return deleteCategory; });\n/* harmony import */ var _config__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(\"obyI\");\n/* harmony import */ var isomorphic_fetch__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(\"LpSC\");\n/* harmony import */ var isomorphic_fetch__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(isomorphic_fetch__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var js_cookie__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(\"p46w\");\n/* harmony import */ var js_cookie__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(js_cookie__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _auth__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(\"iuBY\");\n\n\n\n\nvar create = function create(category, token) {\n  return isomorphic_fetch__WEBPACK_IMPORTED_MODULE_1___default()(\"\".concat(_config__WEBPACK_IMPORTED_MODULE_0__[/* API */ \"a\"], \"/category\"), {\n    \"method\": \"POST\",\n    headers: {\n      \"Accept\": \"application/json\",\n      \"Content-Type\": \"application/json\",\n      \"Authorization\": \"Bearer \".concat(token)\n    },\n    body: JSON.stringify(category)\n  }).then(function (response) {\n    Object(_auth__WEBPACK_IMPORTED_MODULE_3__[/* handleResponse */ \"c\"])(response);\n    return response.json();\n  })[\"catch\"](function (err) {\n    return console.log(err);\n  });\n};\nvar getAllCategories = function getAllCategories() {\n  return isomorphic_fetch__WEBPACK_IMPORTED_MODULE_1___default()(\"\".concat(_config__WEBPACK_IMPORTED_MODULE_0__[/* API */ \"a\"], \"/categories\"), {\n    \"method\": \"GET\"\n  }).then(function (res) {\n    return res.json();\n  })[\"catch\"](function (error) {\n    return console.log(error);\n  });\n};\nvar getOneCategory = function getOneCategory(slug) {\n  return isomorphic_fetch__WEBPACK_IMPORTED_MODULE_1___default()(\"\".concat(_config__WEBPACK_IMPORTED_MODULE_0__[/* API */ \"a\"], \"/category/\").concat(slug), {\n    \"method\": \"GET\"\n  }).then(function (res) {\n    console.log(res);\n    return res.json();\n  })[\"catch\"](function (error) {\n    return console.log(error);\n  });\n};\nvar deleteCategory = function deleteCategory(slug, token) {\n  return isomorphic_fetch__WEBPACK_IMPORTED_MODULE_1___default()(\"\".concat(_config__WEBPACK_IMPORTED_MODULE_0__[/* API */ \"a\"], \"/category/\").concat(slug), {\n    \"method\": \"DELETE\",\n    headers: {\n      \"Accept\": \"application/json\",\n      \"Content-Type\": \"application/json\",\n      \"Authorization\": \"Bearer \".concat(token)\n    }\n  }).then(function (response) {\n    Object(_auth__WEBPACK_IMPORTED_MODULE_3__[/* handleResponse */ \"c\"])(response);\n    return response.json();\n  })[\"catch\"](function (error) {\n    return console.log(error);\n  });\n};\n\n/***/ }),\n\n/***/ \"tmR1\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(\"nKUr\");\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(\"q1tI\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _components_Layout__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(\"h7RS\");\n/* harmony import */ var _actions_Admin__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(\"69Wt\");\n/* harmony import */ var next_link__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(\"YFqc\");\n/* harmony import */ var next_link__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(next_link__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var _components_crud_Category__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(\"DGhE\");\n\n\n\n\n\n\n\n\nfunction Category1() {\n  return /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(_components_Layout__WEBPACK_IMPORTED_MODULE_2__[/* Layout */ \"a\"], {\n    children: /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(_actions_Admin__WEBPACK_IMPORTED_MODULE_3__[/* Admin */ \"a\"], {\n      children: /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"div\", {\n        className: \"container\",\n        children: /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__[\"jsxs\"])(\"div\", {\n          className: \"row\",\n          children: [/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"div\", {\n            className: \"col-md-12 pt-4 pb-4\",\n            children: /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"h1\", {\n              children: \"Manage Categories\"\n            })\n          }), /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"div\", {\n            className: \"col-md-6\",\n            children: /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"li\", {\n              className: \"list-group-item\",\n              children: /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(_components_crud_Category__WEBPACK_IMPORTED_MODULE_5__[/* default */ \"a\"], {})\n            })\n          })]\n        })\n      })\n    })\n  });\n}\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (Category1);\n\n/***/ }),\n\n/***/ \"yMgh\":\n/***/ (function(module, exports, __webpack_require__) {\n\n\n    (window.__NEXT_P = window.__NEXT_P || []).push([\n      \"/admin/crud/category\",\n      function () {\n        return __webpack_require__(\"tmR1\");\n      }\n    ]);\n  \n\n/***/ })\n\n},[[\"yMgh\",1,0,2,3]]]);","inputSourceMap":{"version":3,"sources":["E:\\seoblog\\frontend\\node_modules\\next\\dist\\build\\webpack\\loaders\\next-babel-loader.js??ref--4!E:\\seoblog\\frontend\\actions\\Admin.js","E:\\seoblog\\frontend\\node_modules\\next\\dist\\build\\webpack\\loaders\\next-babel-loader.js??ref--4!E:\\seoblog\\frontend\\components\\crud\\Category.js","E:\\seoblog\\frontend\\node_modules\\next\\dist\\build\\webpack\\loaders\\next-babel-loader.js??ref--4!E:\\seoblog\\frontend\\actions\\category.js","E:\\seoblog\\frontend\\node_modules\\next\\dist\\build\\webpack\\loaders\\next-babel-loader.js??ref--4!E:\\seoblog\\frontend\\pages\\admin\\crud\\category.js","E:\\seoblog\\frontend\\node_modules\\next\\dist\\build\\webpack\\loaders\\next-client-pages-loader.js?page=%2Fadmin%2Fcrud%2Fcategory&absolutePagePath=private-next-pages%2Fadmin%2Fcrud%2Fcategory.js!"],"names":[],"mappings":"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","file":"x","sourcesContent":["import { jsx as _jsx } from \"react/jsx-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-runtime\";\nimport { useEffect } from \"react\";\nimport { isAuth } from \"./auth\";\nimport Router from \"next/router\";\nexport var Admin = function Admin(_ref) {\n  var children = _ref.children;\n  useEffect(function () {\n    if (!isAuth()) {\n      Router.push(\"/signin\");\n    } else if (isAuth().role !== 1) {\n      Router.push(\"/\");\n    }\n  }, []);\n  return /*#__PURE__*/_jsx(_Fragment, {\n    children: children\n  });\n};","import { Fragment as _Fragment } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport _defineProperty from \"E:/seoblog/frontend/node_modules/next/node_modules/@babel/runtime/helpers/esm/defineProperty\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport React, { useState, useEffect } from \"react\";\nimport { create, deleteCategory, getAllCategories } from \"../../actions/category\";\nimport { isAuth, getCookie, signup } from \"../../actions/auth\";\nimport Router from \"next/router\";\n\nvar Category = function Category() {\n  var _useState = useState({\n    \"name\": \"\",\n    \"error\": false,\n    \"categories\": [],\n    \"success\": false,\n    \"removed\": false,\n    \"reload\": false\n  }),\n      value = _useState[0],\n      setValue = _useState[1];\n\n  var name = value.name,\n      success = value.success,\n      error = value.error,\n      removed = value.removed,\n      categories = value.categories,\n      reload = value.reload;\n  var token = getCookie(\"token\");\n\n  var AllCategories = function AllCategories() {\n    getAllCategories().then(function (data) {\n      if (data.error) {\n        setValue(_objectSpread(_objectSpread({}, value), {}, {\n          error: data.error,\n          success: false\n        }));\n      } else {\n        setValue(_objectSpread(_objectSpread({}, value), {}, {\n          categories: data\n        }));\n      }\n    });\n  };\n\n  useEffect(function () {\n    AllCategories();\n  }, [reload]);\n\n  var DeleteCategory = function DeleteCategory(slug) {\n    console.log(\"delete\", slug);\n    deleteCategory(slug, token).then(function (data) {\n      console.log(data);\n\n      if (data.error) {\n        setValue(_objectSpread(_objectSpread({}, value), {}, {\n          error: data.error\n        }));\n      } else {\n        setValue(_objectSpread(_objectSpread({}, value), {}, {\n          error: false,\n          success: false,\n          reload: !reload,\n          removed: true\n        }));\n      }\n    });\n  };\n\n  var DeleteConfirm = function DeleteConfirm(slug) {\n    var answer = window.confirm(\"Are you sure that you want to delete this category?\");\n\n    if (answer) {\n      DeleteCategory(slug);\n    }\n  };\n\n  function CategoryBlock() {\n    return categories.map(function (c, i) {\n      return /*#__PURE__*/_jsx(\"button\", {\n        onDoubleClick: function onDoubleClick() {\n          return DeleteConfirm(c.slug);\n        },\n        title: \"Double click to delete\",\n        className: \"btn btn-outline-primary mr-1 ml-1 mt-3\",\n        children: c.name\n      }, i);\n    });\n  }\n\n  var handleChange = function handleChange(e) {\n    setValue(_objectSpread(_objectSpread({}, value), {}, {\n      name: e.currentTarget.value,\n      success: false,\n      removed: false,\n      error: false\n    }));\n  };\n\n  var onSubmit = function onSubmit(e) {\n    console.log(\"create category = \", name);\n    e.preventDefault();\n    create({\n      name: name\n    }, token).then(function (res) {\n      if (res.error) {\n        setValue(_objectSpread(_objectSpread({}, value), {}, {\n          error: res.error,\n          success: false\n        }));\n      } else {\n        setValue(_objectSpread(_objectSpread({}, value), {}, {\n          error: false,\n          success: true,\n          reload: !reload,\n          removed: false,\n          name: \"\"\n        }));\n      }\n    });\n  };\n\n  var showSuccess = function showSuccess() {\n    if (success) {\n      return /*#__PURE__*/_jsx(\"p\", {\n        className: \"text-success\",\n        children: \"Category successfully created.\"\n      });\n    }\n  };\n\n  var showError = function showError() {\n    if (error) {\n      return /*#__PURE__*/_jsx(\"p\", {\n        className: \"text-danger\",\n        children: \"Category already exist!\"\n      });\n    }\n  };\n\n  var showRemoved = function showRemoved() {\n    if (removed) {\n      return /*#__PURE__*/_jsx(\"p\", {\n        className: \"text-danger\",\n        children: \"Category successfully removed.\"\n      });\n    }\n  };\n\n  var CategoryForm = function CategoryForm() {\n    return /*#__PURE__*/_jsxs(\"form\", {\n      onSubmit: onSubmit,\n      children: [/*#__PURE__*/_jsx(\"label\", {\n        className: \"text-muted\",\n        children: \"Create Category\"\n      }), /*#__PURE__*/_jsx(\"input\", {\n        type: \"text\",\n        onChange: handleChange,\n        className: \"form-control\",\n        value: name\n      }), /*#__PURE__*/_jsx(\"div\", {\n        className: \"pt-2\",\n        children: /*#__PURE__*/_jsx(\"button\", {\n          className: \"btn btn-primary\",\n          children: \"Submit\"\n        })\n      })]\n    });\n  };\n\n  var mouseHandler = function mouseHandler() {\n    setValue(_objectSpread(_objectSpread({}, value), {}, {\n      error: false,\n      success: false,\n      removed: false\n    }));\n  };\n\n  return /*#__PURE__*/_jsxs(_Fragment, {\n    children: [/*#__PURE__*/_jsxs(\"div\", {\n      onMouseMove: mouseHandler,\n      children: [showRemoved(), showError(), showSuccess()]\n    }), CategoryForm(), CategoryBlock()]\n  });\n};\n\nexport default Category;","import { API } from \"../config\";\nimport fetch from \"isomorphic-fetch\";\nimport cookie from \"js-cookie\";\nimport { handleResponse } from \"./auth\";\nexport var create = function create(category, token) {\n  return fetch(\"\".concat(API, \"/category\"), {\n    \"method\": \"POST\",\n    headers: {\n      \"Accept\": \"application/json\",\n      \"Content-Type\": \"application/json\",\n      \"Authorization\": \"Bearer \".concat(token)\n    },\n    body: JSON.stringify(category)\n  }).then(function (response) {\n    handleResponse(response);\n    return response.json();\n  })[\"catch\"](function (err) {\n    return console.log(err);\n  });\n};\nexport var getAllCategories = function getAllCategories() {\n  return fetch(\"\".concat(API, \"/categories\"), {\n    \"method\": \"GET\"\n  }).then(function (res) {\n    return res.json();\n  })[\"catch\"](function (error) {\n    return console.log(error);\n  });\n};\nexport var getOneCategory = function getOneCategory(slug) {\n  return fetch(\"\".concat(API, \"/category/\").concat(slug), {\n    \"method\": \"GET\"\n  }).then(function (res) {\n    console.log(res);\n    return res.json();\n  })[\"catch\"](function (error) {\n    return console.log(error);\n  });\n};\nexport var deleteCategory = function deleteCategory(slug, token) {\n  return fetch(\"\".concat(API, \"/category/\").concat(slug), {\n    \"method\": \"DELETE\",\n    headers: {\n      \"Accept\": \"application/json\",\n      \"Content-Type\": \"application/json\",\n      \"Authorization\": \"Bearer \".concat(token)\n    }\n  }).then(function (response) {\n    handleResponse(response);\n    return response.json();\n  })[\"catch\"](function (error) {\n    return console.log(error);\n  });\n};","import { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport React from \"react\";\nimport { Layout } from \"../../../components/Layout\";\nimport { Admin } from \"../../../actions/Admin\";\nimport Link from \"next/link\";\nimport Category from \"../../../components/crud/Category\";\n\nfunction Category1() {\n  return /*#__PURE__*/_jsx(Layout, {\n    children: /*#__PURE__*/_jsx(Admin, {\n      children: /*#__PURE__*/_jsx(\"div\", {\n        className: \"container\",\n        children: /*#__PURE__*/_jsxs(\"div\", {\n          className: \"row\",\n          children: [/*#__PURE__*/_jsx(\"div\", {\n            className: \"col-md-12 pt-4 pb-4\",\n            children: /*#__PURE__*/_jsx(\"h1\", {\n              children: \"Manage Categories\"\n            })\n          }), /*#__PURE__*/_jsx(\"div\", {\n            className: \"col-md-6\",\n            children: /*#__PURE__*/_jsx(\"li\", {\n              className: \"list-group-item\",\n              children: /*#__PURE__*/_jsx(Category, {})\n            })\n          })]\n        })\n      })\n    })\n  });\n}\n\nexport default Category1;","\n    (window.__NEXT_P = window.__NEXT_P || []).push([\n      \"/admin/crud/category\",\n      function () {\n        return require(\"private-next-pages/admin/crud/category.js\");\n      }\n    ]);\n  "]}}