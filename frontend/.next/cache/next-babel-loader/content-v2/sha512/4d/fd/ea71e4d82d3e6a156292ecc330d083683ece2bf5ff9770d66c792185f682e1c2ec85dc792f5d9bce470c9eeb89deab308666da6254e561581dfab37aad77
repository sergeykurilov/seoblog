{"ast":null,"code":"import { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport React from 'react';\nimport Head from 'next/head';\nimport Link from 'next/link';\nimport { Layout } from '../../components/Layout';\nimport { API, DOMAIN, APP_NAME, FB_APP_ID } from '../../config';\nimport moment from 'moment';\nimport { userPublicProfile } from \"../../actions/user\";\nimport ContactForm from \"../../components/form/contactForm\";\n\nvar UserProfile = function UserProfile(_ref) {\n  var user = _ref.user,\n      blogs = _ref.blogs,\n      query = _ref.query;\n\n  var head = function head() {\n    return /*#__PURE__*/_jsxs(Head, {\n      children: [/*#__PURE__*/_jsxs(\"title\", {\n        children: [user.username, \" | \", APP_NAME]\n      }), /*#__PURE__*/_jsx(\"meta\", {\n        name: \"description\",\n        content: \"Blogs by \".concat(user.username)\n      }), /*#__PURE__*/_jsx(\"link\", {\n        rel: \"canonical\",\n        href: \"\".concat(DOMAIN, \"/profile/\").concat(query.username)\n      }), /*#__PURE__*/_jsx(\"meta\", {\n        property: \"og:title\",\n        content: \"\".concat(user.username, \"| \").concat(APP_NAME)\n      }), /*#__PURE__*/_jsx(\"meta\", {\n        property: \"og:description\",\n        content: \"Blogs by \".concat(user.username)\n      }), /*#__PURE__*/_jsx(\"meta\", {\n        property: \"og:type\",\n        content: \"webiste\"\n      }), /*#__PURE__*/_jsx(\"meta\", {\n        property: \"og:url\",\n        content: \"\".concat(DOMAIN, \"/profile/\").concat(query.username)\n      }), /*#__PURE__*/_jsx(\"meta\", {\n        property: \"og:site_name\",\n        content: \"\".concat(APP_NAME)\n      }), /*#__PURE__*/_jsx(\"meta\", {\n        property: \"og:image\",\n        content: \"\".concat(DOMAIN, \"/static/images/seoblog.jpg\")\n      }), /*#__PURE__*/_jsx(\"meta\", {\n        property: \"og:image:secure_url\",\n        content: \"\".concat(DOMAIN, \"/static/images/seoblog.jpg\")\n      }), /*#__PURE__*/_jsx(\"meta\", {\n        property: \"og:image:type\",\n        content: \"image/jpg\"\n      }), /*#__PURE__*/_jsx(\"meta\", {\n        property: \"fb:app_id\",\n        content: \"\".concat(FB_APP_ID)\n      })]\n    });\n  };\n\n  var showUserBlogs = function showUserBlogs() {\n    return blogs.map(function (blog, i) {\n      return /*#__PURE__*/_jsx(\"div\", {\n        className: \"mt-4 mb-4\",\n        children: /*#__PURE__*/_jsx(Link, {\n          href: \"/blogs/\".concat(blog.slug),\n          children: /*#__PURE__*/_jsx(\"a\", {\n            className: \"lead\",\n            children: blog.title\n          })\n        })\n      }, i);\n    });\n  };\n\n  return /*#__PURE__*/_jsxs(React.Fragment, {\n    children: [head(), /*#__PURE__*/_jsxs(Layout, {\n      children: [/*#__PURE__*/_jsx(\"div\", {\n        className: \"container\",\n        children: /*#__PURE__*/_jsx(\"div\", {\n          className: \"row\",\n          children: /*#__PURE__*/_jsx(\"div\", {\n            className: \"col-md-12\",\n            children: /*#__PURE__*/_jsx(\"div\", {\n              className: \"card\",\n              children: /*#__PURE__*/_jsxs(\"div\", {\n                className: \"card-body\",\n                children: [/*#__PURE__*/_jsxs(\"div\", {\n                  className: \"row\",\n                  children: [/*#__PURE__*/_jsxs(\"div\", {\n                    className: \"col-md-6\",\n                    children: [/*#__PURE__*/_jsx(\"h5\", {\n                      children: user.name\n                    }), /*#__PURE__*/_jsxs(\"p\", {\n                      className: \"text-muted\",\n                      children: [\"Joined \", moment(user.createdAt).fromNow()]\n                    })]\n                  }), /*#__PURE__*/_jsx(\"div\", {\n                    className: \"col-md-4\",\n                    children: /*#__PURE__*/_jsx(\"img\", {\n                      src: \"\".concat(API, \"/user/photo/\").concat(user.username),\n                      className: \"img img-fluid img-thumbnail mb-3\",\n                      style: {\n                        maxHeight: '100px',\n                        maxWidth: '100%'\n                      },\n                      alt: \"user profile\"\n                    })\n                  })]\n                }), /*#__PURE__*/_jsxs(\"div\", {\n                  className: \"col-md-12\",\n                  children: [/*#__PURE__*/_jsx(\"h5\", {\n                    children: \"Author email\"\n                  }), /*#__PURE__*/_jsx(\"p\", {\n                    children: user.email\n                  })]\n                })]\n              })\n            })\n          })\n        })\n      }), /*#__PURE__*/_jsx(\"br\", {}), /*#__PURE__*/_jsx(\"div\", {\n        className: \"container pb-5\",\n        children: /*#__PURE__*/_jsxs(\"div\", {\n          className: \"row\",\n          children: [/*#__PURE__*/_jsx(\"div\", {\n            className: \"col-md-6\",\n            children: /*#__PURE__*/_jsx(\"div\", {\n              className: \"card\",\n              children: /*#__PURE__*/_jsxs(\"div\", {\n                className: \"card-body\",\n                children: [/*#__PURE__*/_jsxs(\"h5\", {\n                  className: \"card-title bg-primary pt-4 pb-4 pl-4 pr-4 text-white\",\n                  children: [\"Recent blogs by \", user.name]\n                }), showUserBlogs()]\n              })\n            })\n          }), /*#__PURE__*/_jsx(\"div\", {\n            className: \"col-md-6\",\n            children: /*#__PURE__*/_jsx(\"div\", {\n              className: \"card\",\n              children: /*#__PURE__*/_jsxs(\"div\", {\n                className: \"card-body\",\n                children: [/*#__PURE__*/_jsxs(\"h5\", {\n                  className: \"card-title bg-primary pt-4 pb-4 pl-4 pr-4 text-light\",\n                  children: [\"Message \", user.name]\n                }), /*#__PURE__*/_jsx(\"br\", {}), /*#__PURE__*/_jsx(ContactForm, {\n                  authorEmail: user.email\n                })]\n              })\n            })\n          })]\n        })\n      })]\n    })]\n  });\n};\n\nUserProfile.getInitialProps = function (_ref2) {\n  var query = _ref2.query;\n  return userPublicProfile(query.username).then(function (data) {\n    if (data.error) {\n      console.log(data.error);\n    } else {\n      return {\n        user: data.user,\n        blogs: data.blogs,\n        query: query\n      };\n    }\n  });\n};\n\nexport default UserProfile;","map":null,"metadata":{},"sourceType":"module"}