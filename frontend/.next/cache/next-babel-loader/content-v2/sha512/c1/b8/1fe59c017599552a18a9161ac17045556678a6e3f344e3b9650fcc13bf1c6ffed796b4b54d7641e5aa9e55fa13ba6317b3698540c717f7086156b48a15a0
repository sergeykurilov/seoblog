{"ast":null,"code":"import { Fragment as _Fragment } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport _defineProperty from \"E:/seoblog/frontend/node_modules/next/node_modules/@babel/runtime/helpers/esm/defineProperty\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport React, { useState } from 'react';\nimport { emailContactForm } from \"../../actions/form\";\n\nvar ContactForm = function ContactForm(_ref) {\n  var authorEmail = _ref.authorEmail;\n\n  var _useState = useState({\n    message: '',\n    name: '',\n    email: '',\n    sent: false,\n    buttonText: 'Send Message',\n    success: false,\n    error: false\n  }),\n      values = _useState[0],\n      setValues = _useState[1];\n\n  var message = values.message,\n      name = values.name,\n      email = values.email,\n      success = values.success,\n      error = values.error,\n      buttonText = values.buttonText;\n\n  var clickSubmit = function clickSubmit(e) {\n    e.preventDefault();\n    setValues(_objectSpread(_objectSpread({}, values), {}, {\n      buttonText: \"Sending...\"\n    }));\n    emailContactForm({\n      authorEmail: authorEmail,\n      name: name,\n      email: email,\n      message: message\n    }).then(function (data) {\n      if (data.error) {\n        setValues(_objectSpread(_objectSpread({}, values), {}, {\n          error: data.error\n        }));\n      } else {\n        setValues(_objectSpread(_objectSpread({}, values), {}, {\n          sent: true,\n          name: \"\",\n          senderEmail: \"\",\n          message: \"\",\n          buttonText: \"Sent\",\n          success: data.success\n        }));\n      }\n    });\n  };\n\n  var showError = function showError() {\n    return /*#__PURE__*/_jsx(\"div\", {\n      className: \"alert alert-danger\",\n      style: {\n        display: error ? '' : 'none'\n      },\n      children: error\n    });\n  };\n\n  var showSuccess = function showSuccess() {\n    return success && /*#__PURE__*/_jsx(\"div\", {\n      className: \"alert alert-info\",\n      style: {\n        display: success ? '' : 'none'\n      },\n      children: \"Thank you for contacting us!\"\n    });\n  };\n\n  var handleChange = function handleChange(name) {\n    return function (e) {\n      var _objectSpread2;\n\n      return setValues(_objectSpread(_objectSpread({}, values), {}, (_objectSpread2 = {}, _defineProperty(_objectSpread2, name, e.target.value), _defineProperty(_objectSpread2, \"error\", false), _defineProperty(_objectSpread2, \"success\", false), _defineProperty(_objectSpread2, \"buttonText\", \"Send Message\"), _objectSpread2)));\n    };\n  };\n\n  var contactForm = function contactForm() {\n    return /*#__PURE__*/_jsxs(\"form\", {\n      onSubmit: clickSubmit,\n      className: \"pb-5\",\n      children: [/*#__PURE__*/_jsxs(\"div\", {\n        className: \"form-group\",\n        children: [/*#__PURE__*/_jsx(\"label\", {\n          className: \"lead\",\n          children: \"Message\"\n        }), /*#__PURE__*/_jsx(\"textarea\", {\n          className: \"form-control\",\n          value: message,\n          required: true,\n          type: \"text\",\n          rows: \"10\",\n          onChange: handleChange('message')\n        })]\n      }), /*#__PURE__*/_jsxs(\"div\", {\n        className: \"form-group\",\n        children: [/*#__PURE__*/_jsx(\"label\", {\n          className: \"lead\",\n          children: \"Name\"\n        }), /*#__PURE__*/_jsx(\"input\", {\n          className: \"form-control\",\n          value: name,\n          required: true,\n          type: \"text\",\n          onChange: handleChange('name')\n        })]\n      }), /*#__PURE__*/_jsxs(\"div\", {\n        className: \"form-group\",\n        children: [/*#__PURE__*/_jsx(\"label\", {\n          className: \"lead\",\n          children: \"Email\"\n        }), /*#__PURE__*/_jsx(\"input\", {\n          className: \"form-control\",\n          value: email,\n          required: true,\n          type: \"email\",\n          onChange: handleChange('email')\n        })]\n      }), /*#__PURE__*/_jsx(\"div\", {\n        children: /*#__PURE__*/_jsx(\"button\", {\n          className: \"btn btn-primary\",\n          children: buttonText\n        })\n      })]\n    });\n  };\n\n  return /*#__PURE__*/_jsxs(_Fragment, {\n    children: [showError(), showSuccess(), contactForm()]\n  });\n};\n\nexport default ContactForm;","map":null,"metadata":{},"sourceType":"module"}