{"ast":null,"code":"import { API } from \"../config\";\nimport fetch from \"isomorphic-fetch\";\nimport cookie from \"js-cookie\";\nexport const signup = user => {\n  return fetch(`${API}/signup`, {\n    \"method\": \"POST\",\n    headers: {\n      Accept: \"application/json\",\n      \"Content-Type\": \"application/json\"\n    },\n    body: JSON.stringify(user)\n  }).then(res => {\n    return res.json();\n  }).catch(err => console.log(err));\n};\nexport const signin = user => {\n  return fetch(`${API}/signin`, {\n    \"method\": \"POST\",\n    headers: {\n      Accept: \"application/json\",\n      \"Content-Type\": \"application/json\"\n    },\n    body: JSON.stringify(user)\n  }).then(res => {\n    return res.json();\n  }).catch(err => console.log(err));\n}; //set cookie\n\nconst setCookie = (key, value) => {\n  if (false) {\n    cookie.set(key, value, {\n      expires: 1\n    });\n  }\n};\n\nconst removeCookie = key => {\n  if (false) {\n    cookie.remove(key, {\n      expires: 1\n    });\n  }\n}; //get cookie\n\n\nconst getCookie = key => {\n  if (false) {\n    return cookie.get(key);\n  }\n}; //localstorage\n\n\nconst setLocalStorage = (key, value) => {\n  if (false) {\n    localStorage.setItem(key, JSON.stringify(value));\n  }\n}; //signout\n\n\nconst removeLocalStorage = key => {\n  if (false) {\n    localStorage.removeItem(key);\n  }\n};\n\nexport const Signout = next => {\n  removeCookie(\"token\");\n  removeLocalStorage(\"user\");\n  next();\n  return fetch(`${API}/signout`, {\n    method: \"GET\"\n  }).then(() => {\n    console.log(\"Logout Successful\");\n  }).catch(err => {\n    console.log(`Error: ${err}`);\n  });\n}; //authenticate user by pass data to localstorage and cookie\n\nexport const authenticate = (data, next) => {\n  setCookie(\"token\", data.token);\n  setLocalStorage(\"user\", data.user);\n  next();\n};\nexport const isAuth = () => {\n  if (false) {\n    const checkedCookie = getCookie(\"token\");\n\n    if (checkedCookie) {\n      if (localStorage.getItem(\"user\")) {\n        return JSON.parse(localStorage.getItem(\"user\"));\n      }\n    }\n  } else {\n    return false;\n  }\n};","map":null,"metadata":{},"sourceType":"module"}