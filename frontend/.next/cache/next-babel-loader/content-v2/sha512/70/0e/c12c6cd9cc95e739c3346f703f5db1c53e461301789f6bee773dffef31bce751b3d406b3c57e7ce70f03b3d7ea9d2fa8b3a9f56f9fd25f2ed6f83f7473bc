{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nimport _defineProperty from \"E:/seoblog/frontend/node_modules/next/node_modules/@babel/runtime/helpers/esm/defineProperty\";\n\nvar _s = $RefreshSig$();\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport Link from 'next/link';\nimport renderHTML from 'react-render-html';\nimport moment from 'moment';\nimport { API } from '../../../config';\nimport React, { useEffect, useState } from \"react\";\nexport default function SmallCards(_ref) {\n  _s();\n\n  var blog = _ref.blog,\n      key = _ref.key;\n  var url = \"\".concat(API, \"/blog/photo/\").concat(blog.slug);\n\n  var _useState = useState({\n    srcBlob: null,\n    srcDataUri: null\n  }),\n      _useState$ = _useState[0],\n      srcBlob = _useState$.srcBlob,\n      srcDataUri = _useState$.srcDataUri,\n      setSrc = _useState[1];\n\n  useEffect(function () {\n    var isUnmounted = false;\n    fetch(url, {}).then(function (response) {\n      return response.blob();\n    }).then(function (blob) {\n      return blob.arrayBuffer();\n    }).then(function (arrayBuffer) {\n      if (isUnmounted) {\n        return;\n      }\n\n      var blob = new Blob([arrayBuffer]);\n      var srcBlob = URL.createObjectURL(blob);\n      setSrc(function (state) {\n        return _objectSpread(_objectSpread({}, state), {}, {\n          srcBlob: srcBlob\n        });\n      });\n    });\n    return function () {\n      isUnmounted = true;\n    };\n  }, []);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: \"2\"\n  }, void 0, false);\n}\n\n_s(SmallCards, \"ouXZ8MFBRwVxe9kaUNhg4TK5w2I=\");\n\n_c = SmallCards;\n;\n\nvar _c;\n\n$RefreshReg$(_c, \"SmallCards\");","map":{"version":3,"sources":["E:/seoblog/frontend/components/Blog/Card/SmallCard.js"],"names":["Link","renderHTML","moment","API","React","useEffect","useState","SmallCards","blog","key","url","slug","srcBlob","srcDataUri","setSrc","isUnmounted","fetch","then","response","blob","arrayBuffer","Blob","URL","createObjectURL","state"],"mappings":";;;;;;;;;;AAAA,OAAOA,IAAP,MAAiB,WAAjB;AACA,OAAOC,UAAP,MAAuB,mBAAvB;AACA,OAAOC,MAAP,MAAmB,QAAnB;AACA,SAAQC,GAAR,QAAkB,iBAAlB;AACA,OAAOC,KAAP,IAAeC,SAAf,EAA0BC,QAA1B,QAAyC,OAAzC;AAEA,eAAe,SAASC,UAAT,OAAiC;AAAA;;AAAA,MAAZC,IAAY,QAAZA,IAAY;AAAA,MAANC,GAAM,QAANA,GAAM;AAE5C,MAAMC,GAAG,aAAMP,GAAN,yBAAwBK,IAAI,CAACG,IAA7B,CAAT;;AAF4C,kBAM/BL,QAAQ,CAAC;AAClBM,IAAAA,OAAO,EAAE,IADS;AAElBC,IAAAA,UAAU,EAAE;AAFM,GAAD,CANuB;AAAA;AAAA,MAIxCD,OAJwC,cAIxCA,OAJwC;AAAA,MAKxCC,UALwC,cAKxCA,UALwC;AAAA,MAMzCC,MANyC;;AAW5CT,EAAAA,SAAS,CAAC,YAAM;AACZ,QAAIU,WAAW,GAAG,KAAlB;AAEAC,IAAAA,KAAK,CAACN,GAAD,EAAM,EAAN,CAAL,CACKO,IADL,CACU,UAAAC,QAAQ;AAAA,aAAIA,QAAQ,CAACC,IAAT,EAAJ;AAAA,KADlB,EAEKF,IAFL,CAEU,UAAAE,IAAI;AAAA,aAAIA,IAAI,CAACC,WAAL,EAAJ;AAAA,KAFd,EAGKH,IAHL,CAGU,UAAAG,WAAW,EAAI;AAEjB,UAAIL,WAAJ,EAAiB;AACb;AACH;;AAED,UAAMI,IAAI,GAAG,IAAIE,IAAJ,CAAS,CAACD,WAAD,CAAT,CAAb;AACA,UAAMR,OAAO,GAAGU,GAAG,CAACC,eAAJ,CAAoBJ,IAApB,CAAhB;AAEAL,MAAAA,MAAM,CAAC,UAAAU,KAAK;AAAA,+CACLA,KADK;AAERZ,UAAAA,OAAO,EAAPA;AAFQ;AAAA,OAAN,CAAN;AAKH,KAjBL;AAmBA,WAAO,YAAM;AACTG,MAAAA,WAAW,GAAG,IAAd;AACH,KAFD;AAIH,GA1BQ,EA0BN,EA1BM,CAAT;AA6BA,sBACI;AAAA;AAAA,mBADJ;AAkCH;;GA1EuBR,U;;KAAAA,U;AA0EvB","sourcesContent":["import Link from 'next/link';\r\nimport renderHTML from 'react-render-html';\r\nimport moment from 'moment';\r\nimport {API} from '../../../config';\r\nimport React, {useEffect, useState} from \"react\";\r\n\r\nexport default function SmallCards({blog, key}) {\r\n\r\n    const url = `${API}/blog/photo/${blog.slug}`\r\n    const [{\r\n        srcBlob,\r\n        srcDataUri\r\n    }, setSrc] = useState({\r\n        srcBlob: null,\r\n        srcDataUri: null\r\n    });\r\n\r\n    useEffect(() => {\r\n        let isUnmounted = false;\r\n\r\n        fetch(url, {})\r\n            .then(response => response.blob())\r\n            .then(blob => blob.arrayBuffer())\r\n            .then(arrayBuffer => {\r\n\r\n                if (isUnmounted) {\r\n                    return;\r\n                }\r\n\r\n                const blob = new Blob([arrayBuffer])\r\n                const srcBlob = URL.createObjectURL(blob);\r\n\r\n                setSrc(state => ({\r\n                    ...state,\r\n                    srcBlob\r\n                }));\r\n\r\n            })\r\n\r\n        return () => {\r\n            isUnmounted = true;\r\n        }\r\n\r\n    }, [])\r\n\r\n\r\n    return (\r\n        <>\r\n            {/*<div key={key} className=\"mt-12 grid gap-16 pt-12 lg:grid-cols-3 lg:gap-x-5 lg:gap-y-12\">*/}\r\n            {/*<div className=\"card\">*/}\r\n            {/*    <img*/}\r\n            {/*        className=\"img img-fluid\"*/}\r\n            {/*        style={{maxHeight: 'auto', width: '100%'}}*/}\r\n            {/*        src={srcBlob}*/}\r\n            {/*        alt={blog.title}*/}\r\n            {/*    />*/}\r\n            {/*    <Link href={`/blogs/${blog.slug}`}>*/}\r\n            {/*        <a className=\"block mt-4\">*/}\r\n            {/*            <p className=\"text-xl font-semibold text-gray-900\">{blog.title}</p>*/}\r\n            {/*            <p className=\"mt-3 text-base text-gray-500\">{renderHTML(blog.excerpt)}</p>*/}\r\n            {/*        </a>*/}\r\n            {/*    </Link>*/}\r\n            {/*    <div className=\"mt-6 flex items-center\">*/}\r\n            {/*        <div className=\"ml-3\">*/}\r\n            {/*            <p className=\"text-sm font-medium text-gray-900\">*/}\r\n            {/*                <Link href={`/profile/${blog.postedBy.username}`}>*/}\r\n            {/*                    <a>{blog.postedBy.username}</a>*/}\r\n            {/*                </Link>*/}\r\n            {/*            </p>*/}\r\n            {/*            <div className=\"flex space-x-1 text-sm text-gray-500\">*/}\r\n            {/*                <time*/}\r\n            {/*                    dateTime={moment(blog.updatedAt).fromNow()}>{moment(blog.updatedAt).fromNow()}</time>*/}\r\n            {/*            </div>*/}\r\n            {/*        </div>*/}\r\n            {/*    </div>*/}\r\n            {/*</div>*/}\r\n            {/*</div>*/}\r\n            2\r\n        </>\r\n    )\r\n};\r\n\r\n"]},"metadata":{},"sourceType":"module"}